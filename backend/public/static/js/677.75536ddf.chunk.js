/*! For license information please see 677.75536ddf.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkuser_place=self.webpackChunkuser_place||[]).push([[677],{4847:function(){},7326:function(t,e,n){function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return i}})},5861:function(t,e,n){function i(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,u,"next",t)}function u(t){i(a,r,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return r}})},5671:function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return i}})},3144:function(t,e,n){n.d(e,{Z:function(){return o}});var i=n(9142);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(0,i.Z)(r.key),r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},4062:function(t,e,n){n.d(e,{Z:function(){return o}});var i=n(1120);var r=n(2963);function o(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=(0,i.Z)(t);if(e){var a=(0,i.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,r.Z)(this,n)}}},4942:function(t,e,n){n.d(e,{Z:function(){return r}});var i=n(9142);function r(t,e,n){return(e=(0,i.Z)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},1752:function(t,e,n){n.d(e,{Z:function(){return r}});var i=n(1120);function r(){return r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,i.Z)(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},r.apply(this,arguments)}},1120:function(t,e,n){function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}n.d(e,{Z:function(){return i}})},136:function(t,e,n){n.d(e,{Z:function(){return r}});var i=n(9611);function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,i.Z)(t,e)}},1413:function(t,e,n){n.d(e,{Z:function(){return o}});var i=n(4942);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},2963:function(t,e,n){n.d(e,{Z:function(){return o}});var i=n(1002),r=n(7326);function o(t,e){if(e&&("object"===(0,i.Z)(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.Z)(t)}},4165:function(t,e,n){n.d(e,{Z:function(){return r}});var i=n(1002);function r(){r=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",h=s.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var r=e&&e.prototype instanceof m?e:m,o=Object.create(r.prototype),s=new S(i||[]);return a(o,"_invoke",{value:b(t,n,s)}),o}function v(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var f="suspendedStart",g="suspendedYield",y="executing",_="completed",p={};function m(){}function E(){}function k(){}var Z={};c(Z,u,(function(){return this}));var C=Object.getPrototypeOf,x=C&&C(C(M([])));x&&x!==n&&o.call(x,u)&&(Z=x);var T=k.prototype=m.prototype=Object.create(Z);function R(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(r,a,s,u){var l=v(t[r],t,a);if("throw"!==l.type){var h=l.arg,c=h.value;return c&&"object"==(0,i.Z)(c)&&o.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(c).then((function(t){h.value=t,s(h)}),(function(t){return n("throw",t,s,u)}))}u(l.arg)}var r;a(this,"_invoke",{value:function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}})}function b(e,n,i){var r=f;return function(o,a){if(r===y)throw new Error("Generator is already running");if(r===_){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var u=P(s,i);if(u){if(u===p)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===f)throw r=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=y;var l=v(e,n,i);if("normal"===l.type){if(r=i.done?_:g,l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=_,i.method="throw",i.arg=l.arg)}}}function P(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var o=v(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError((0,i.Z)(e)+" is not iterable")}return E.prototype=k,a(T,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:E,configurable:!0}),E.displayName=c(k,h,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,c(t,h,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},R(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new w(d(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},R(T),c(T,h,"Generator"),c(T,u,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=M,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:M(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),p}},e}},9142:function(t,e,n){n.d(e,{Z:function(){return r}});var i=n(1002);function r(t){var e=function(t,e){if("object"!==(0,i.Z)(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==(0,i.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===(0,i.Z)(e)?e:String(e)}},1002:function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n.d(e,{Z:function(){return i}})},5414:function(t,e,n){var i=n(5671),r=n(3144),o=function(){function t(){(0,i.Z)(this,t),this.disposed=!1}return(0,r.Z)(t,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}]),t}();e.Z=o},8465:function(t,e,n){n.d(e,{Z:function(){return v}});var i=n(5671),r=n(3144),o=n(136),a=n(4062),s=n(1967),u=n(5128),l=n(1408),h=n(5947),c=n(7288),d=n(923);var v=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,r,o,a,s,u){var l;return(0,i.Z)(this,n),(l=e.call(this,t,r,u)).crossOrigin_=a,l.src_=o,l.key=o,l.image_=new Image,null!==a&&(l.image_.crossOrigin=a),l.unlisten_=null,l.tileLoadFunction_=s,l}return(0,r.Z)(n,[{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(t){this.image_=t,this.state=u.Z.LOADED,this.unlistenImage_(),this.changed()}},{key:"handleImageError_",value:function(){this.state=u.Z.ERROR,this.unlistenImage_(),this.image_=function(){var t=(0,l.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}},{key:"handleImageLoad_",value:function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=u.Z.LOADED:this.state=u.Z.EMPTY,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==u.Z.ERROR&&(this.state=u.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==u.Z.IDLE&&(this.state=u.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(t,e,n){var i=t,r=!0,o=!1,a=!1,s=[(0,d.Vx)(i,h.Z.LOAD,(function(){a=!0,o||e()}))];return i.src&&c.Tp?(o=!0,i.decode().then((function(){r&&e()})).catch((function(t){r&&(a?e():n())}))):s.push((0,d.Vx)(i,h.Z.ERROR,n)),function(){r=!1,s.forEach(d.bN)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),n}(s.Z)},9273:function(t,e,n){n.d(e,{Z:function(){return Ce}});var i=n(5671),r=n(3144),o=n(7326),a=n(1752),s=n(1120),u=n(136),l=n(4062),h=n(5957),c="add",d="remove",v=n(5326),f="length",g=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,r,o){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).element=r,a.index=o,a}return(0,r.Z)(n)}(v.ZP),y=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,r){var o;if((0,i.Z)(this,n),(o=e.call(this)).on,o.once,o.un,r=r||{},o.unique_=!!r.unique,o.array_=t||[],o.unique_)for(var a=0,s=o.array_.length;a<s;++a)o.assertUnique_(o.array_[a],a);return o.updateLength_(),o}return(0,r.Z)(n,[{key:"clear",value:function(){for(;this.getLength()>0;)this.pop()}},{key:"extend",value:function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this}},{key:"forEach",value:function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(t){return this.array_[t]}},{key:"getLength",value:function(){return this.get(f)}},{key:"insertAt",value:function(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new g(c,e,t))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()}},{key:"remove",value:function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)}},{key:"removeAt",value:function(t){if(!(t<0||t>=this.getLength())){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new g(d,e,t)),e}}},{key:"setAt",value:function(t,e){if(t>=this.getLength())this.insertAt(t,e);else{if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new g(d,n,t)),this.dispatchEvent(new g(c,e,t))}}},{key:"updateLength_",value:function(){this.set(f,this.array_.length)}},{key:"assertUnique_",value:function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Error("Duplicate item added to a unique collection")}}]),n}(h.Z),_=y,p=n(5414),m=n(6661),E=n(6006),k=n(6108),Z=n(6889),C=n(6838),x=function(){function t(){(0,i.Z)(this,t),this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return(0,r.Z)(t,[{key:"clear",value:function(){this.cache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}}},{key:"get",value:function(t,e,n){var i=T(t,e,n);return i in this.cache_?this.cache_[i]:null}},{key:"set",value:function(t,e,n,i){var r=T(t,e,n);this.cache_[r]=i,++this.cacheSize_}},{key:"setSize",value:function(t){this.maxCacheSize_=t,this.expire()}}]),t}();function T(t,e,n){return e+":"+t+":"+(n?(0,C.XC)(n):"null")}var R=new x,w=n(4101),b=n(2024);function P(t,e){R.expire()}var I,L=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this)).map_=t,r}return(0,r.Z)(n,[{key:"dispatchRenderEvent",value:function(t,e){(0,E.O3)()}},{key:"calculateMatrices2D",value:function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;(0,k.qC)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,k.nb)(i,n)}},{key:"forEachFeatureAtCoordinate",value:function(t,e,n,i,r,o,a,s){var u,l=e.viewState;function h(t,e,n,i){return r.call(o,e,t?n:null,i)}var c=l.projection,d=(0,b.Cf)(t.slice(),c),v=[[0,0]];if(c.canWrapX()&&i){var f=c.getExtent(),g=(0,Z.dz)(f);v.push([-g,0],[g,0])}for(var y=e.layerStatesArray,_=y.length,p=[],m=[],E=0;E<v.length;E++)for(var k=_-1;k>=0;--k){var C=y[k],x=C.layer;if(x.hasRenderer()&&(0,w.j)(C,l)&&a.call(s,x)){var T=x.getRenderer(),R=x.getSource();if(T&&R){var P=R.getWrapX()?d:t,I=h.bind(null,C.managed);m[0]=P[0]+v[E][0],m[1]=P[1]+v[E][1],u=T.forEachFeatureAtCoordinate(m,e,n,I,p)}if(u)return u}}if(0!==p.length){var L=1/p.length;return p.forEach((function(t,e){return t.distanceSq+=e*L})),p.sort((function(t,e){return t.distanceSq-e.distanceSq})),p.some((function(t){return u=t.callback(t.feature,t.layer,t.geometry)})),u}}},{key:"hasFeatureAtCoordinate",value:function(t,e,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,m.uX,this,r,o)}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(t){(0,E.O3)()}},{key:"flushDeclutterItems",value:function(t){}},{key:"scheduleExpireIconCache",value:function(t){R.canExpireCache()&&t.postRenderFunctions.push(P)}}]),n}(p.Z),S=n(6594),M=n(3384),O=n(6875),A="ol-hidden",F="ol-unselectable",N="ol-control",D="ol-collapsed",j=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),z=["style","variant","weight","size","lineHeight","family"],G=function(t){var e=t.match(j);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=z.length;i<r;++i){var o=e[i+1];void 0!==o&&(n[z[i]]=o)}return n.families=n.family.split(/,\s?/),n},K=n(7288),U=n(6841),V=n(1408),X=new h.Z,Y=null,q={};(function(){var t,e,n="32px ",i=["monospace","serif"],r=i.length,o="wmytzilWMYTZIL@#/&?$%10\uf013";function a(t,a,s){for(var u=!0,l=0;l<r;++l){var h=i[l];if(e=H(t+" "+a+" "+n+h,o),s!=h){var c=H(t+" "+a+" "+n+s+","+h,o);u=u&&c!=e}}return!!u}function s(){for(var e=!0,n=X.getKeys(),i=0,r=n.length;i<r;++i){var o=n[i];X.get(o)<100&&(a.apply(this,o.split("\n"))?((0,U.Z)(q),Y=null,I=void 0,X.set(o,100)):(X.set(o,X.get(o)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}})(),function(){var t}();function W(t,e){return Y||(Y=(0,V.E4)(1,1)),t!=I&&(Y.font=t,I=Y.font),Y.measureText(e)}function H(t,e){return W(t,e).width}var B=n(923),Q=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n),(r=e.call(this,t)).fontChangeListenerKey_=(0,B.oL)(X,S.Z.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var o=r.element_.style;o.position="absolute",o.width="100%",o.height="100%",o.zIndex="0",r.element_.className=F+" ol-layers";var a=t.getViewport();return a.insertBefore(r.element_,a.firstChild||null),r.children_=[],r.renderedVisible_=!0,r.declutterLayers_=[],r}return(0,r.Z)(n,[{key:"dispatchRenderEvent",value:function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new M.Z(t,void 0,e);n.dispatchEvent(i)}}},{key:"disposeInternal",value:function(){(0,B.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),(0,a.Z)((0,s.Z)(n.prototype),"disposeInternal",this).call(this)}},{key:"renderFrame",value:function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(O.Z.PRECOMPOSE,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;var i=this.declutterLayers_;i.length=0;for(var r=null,o=0,a=e.length;o<a;++o){var s=e[o];t.layerIndex=o;var u=s.layer,l=u.getSourceState();if(!(0,w.j)(s,n)||"ready"!=l&&"undefined"!=l)u.unrender();else{var h=u.render(t,r);h&&(h!==r&&(this.children_.push(h),r=h),"getDeclutter"in u&&i.push(u))}}this.flushDeclutterItems(t),(0,V.hF)(this.element_,this.children_),this.dispatchRenderEvent(O.Z.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}},{key:"flushDeclutterItems",value:function(t){for(var e=this.declutterLayers_,n=e.length-1;n>=0;--n)e[n].renderDeclutter(t);e.length=0}}]),n}(L),$=n(5947),J=n(3976),tt=n(6862),et=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,r){var o;return(0,i.Z)(this,n),(o=e.call(this,t)).layer=r,o}return(0,r.Z)(n)}(v.ZP),nt="layers",it=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n),t=t||{};var o=Object.assign({},t);delete o.layers;var a=t.layers;return(r=e.call(this,o)).on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(nt,r.handleLayersChanged_),a?Array.isArray(a)?a=new _(a.slice(),{unique:!0}):(0,tt.h)("function"===typeof a.getArray,"Expected `layers` to be an array or a `Collection`"):a=new _(void 0,{unique:!0}),r.setLayers(a),r}return(0,r.Z)(n,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(B.bN),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,B.oL)(t,c,this.handleLayersAdd_,this),(0,B.oL)(t,d,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(B.bN);(0,U.Z)(this.listenerKeys_);for(var n=t.getArray(),i=0,r=n.length;i<r;i++){var o=n[i];this.registerLayerListeners_(o),this.dispatchEvent(new et("addlayer",o))}this.changed()}},{key:"registerLayerListeners_",value:function(t){var e=[(0,B.oL)(t,S.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,B.oL)(t,$.Z.CHANGE,this.handleLayerChange_,this)];t instanceof n&&e.push((0,B.oL)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,B.oL)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,E.sq)(t)]=e}},{key:"handleLayerGroupAdd_",value:function(t){this.dispatchEvent(new et("addlayer",t.layer))}},{key:"handleLayerGroupRemove_",value:function(t){this.dispatchEvent(new et("removelayer",t.layer))}},{key:"handleLayersAdd_",value:function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new et("addlayer",e)),this.changed()}},{key:"handleLayersRemove_",value:function(t){var e=t.element,n=(0,E.sq)(e);this.listenerKeys_[n].forEach(B.bN),delete this.listenerKeys_[n],this.dispatchEvent(new et("removelayer",e)),this.changed()}},{key:"getLayers",value:function(){return this.get(nt)}},{key:"setLayers",value:function(t){var e=this.getLayers();if(e)for(var n=e.getArray(),i=0,r=n.length;i<r;++i)this.dispatchEvent(new et("removelayer",n[i]));this.set(nt,t)}},{key:"getLayersArray",value:function(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}},{key:"getLayerStatesArray",value:function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var i=this.getLayerState(),r=i.zIndex;t||void 0!==i.zIndex||(r=0);for(var o=n,a=e.length;o<a;o++){var s=e[o];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),s.minZoom=Math.max(s.minZoom,i.minZoom),s.maxZoom=Math.min(s.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==s.extent?s.extent=(0,Z.Ed)(s.extent,i.extent):s.extent=i.extent),void 0===s.zIndex&&(s.zIndex=r)}return e}},{key:"getSourceState",value:function(){return"ready"}}]),n}(J.Z),rt=it,ot=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,r,o){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).map=r,a.frameState=void 0!==o?o:null,a}return(0,r.Z)(n)}(v.ZP),at=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,r,o,a,s,u){var l;return(0,i.Z)(this,n),(l=e.call(this,t,r,s)).originalEvent=o,l.pixel_=null,l.coordinate_=null,l.dragging=void 0!==a&&a,l.activePointers=u,l}return(0,r.Z)(n,[{key:"pixel",get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t}},{key:"coordinate",get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t}},{key:"preventDefault",value:function(){(0,a.Z)((0,s.Z)(n.prototype),"preventDefault",this).call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){(0,a.Z)((0,s.Z)(n.prototype),"stopPropagation",this).call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}]),n}(ot),st={SINGLECLICK:"singleclick",CLICK:$.Z.CLICK,DBLCLICK:$.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ut="pointermove",lt="pointerdown",ht=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,r){var a;(0,i.Z)(this,n),(a=e.call(this,t)).map_=t,a.clickTimeoutId_,a.emulateClicks_=!1,a.dragging_=!1,a.dragListenerKeys_=[],a.moveTolerance_=void 0===r?1:r,a.down_=null;var s=a.map_.getViewport();return a.activePointers_=[],a.trackedTouches_={},a.element_=s,a.pointerdownListenerKey_=(0,B.oL)(s,lt,a.handlePointerDown_,(0,o.Z)(a)),a.originalPointerMoveEvent_,a.relayedListenerKey_=(0,B.oL)(s,ut,a.relayMoveEvent_,(0,o.Z)(a)),a.boundHandleTouchMove_=a.handleTouchMove_.bind((0,o.Z)(a)),a.element_.addEventListener($.Z.TOUCHMOVE,a.boundHandleTouchMove_,!!K.bM&&{passive:!1}),a}return(0,r.Z)(n,[{key:"emulateClick_",value:function(t){var e=this,n=new at(st.CLICK,this.map_,t);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new at(st.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout((function(){e.clickTimeoutId_=void 0;var n=new at(st.SINGLECLICK,e.map_,t);e.dispatchEvent(n)}),250)}},{key:"updateActivePointers_",value:function(t){var e=t,n=e.pointerId;if(e.type==st.POINTERUP||e.type==st.POINTERCANCEL){for(var i in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[i].target!==e.target){delete this.trackedTouches_[i];break}}else e.type!=st.POINTERDOWN&&e.type!=st.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}},{key:"handlePointerUp_",value:function(t){this.updateActivePointers_(t);var e=new at(st.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(B.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}},{key:"isMouseActionButton_",value:function(t){return 0===t.button}},{key:"handlePointerDown_",value:function(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);var e=new at(st.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){var n=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,B.oL)(n,st.POINTERMOVE,this.handlePointerMove_,this),(0,B.oL)(n,st.POINTERUP,this.handlePointerUp_,this),(0,B.oL)(this.element_,st.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push((0,B.oL)(this.element_.getRootNode(),st.POINTERUP,this.handlePointerUp_,this))}}},{key:"handlePointerMove_",value:function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var e=new at(st.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}},{key:"relayMoveEvent_",value:function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new at(st.POINTERMOVE,this.map_,t,e))}},{key:"handleTouchMove_",value:function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"===typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}},{key:"isMoving_",value:function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}},{key:"disposeInternal",value:function(){this.relayedListenerKey_&&((0,B.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener($.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,B.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(B.bN),this.dragListenerKeys_.length=0,this.element_=null,(0,a.Z)((0,s.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(n(2064).Z),ct="postrender",dt="movestart",vt="moveend",ft="loadstart",gt="loadend",yt="layergroup",_t="size",pt="target",mt="view",Et=1/0,kt=function(){function t(e,n){(0,i.Z)(this,t),this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return(0,r.Z)(t,[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,(0,U.Z)(this.queuedElements_)}},{key:"dequeue",value:function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n}},{key:"enqueue",value:function(t){(0,tt.h)(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");var e=this.priorityFunction_(t);return e!=Et&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(t){return 2*t+1}},{key:"getRightChildIndex_",value:function(t){return 2*t+2}},{key:"getParentIndex_",value:function(t){return t-1>>1}},{key:"heapify_",value:function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(t){return t in this.queuedElements_}},{key:"isQueued",value:function(t){return this.isKeyQueued(this.keyFunction_(t))}},{key:"siftUp_",value:function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<i&&n[u]<n[s]?u:s;e[t]=e[l],n[t]=n[l],t=l}e[t]=r,n[t]=o,this.siftDown_(a,t)}},{key:"siftDown_",value:function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>o))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=r,i[e]=o}},{key:"reprioritize",value:function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,a=0,s=r.length;for(e=0;e<s;++e)(n=i(t=r[e]))==Et?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,r[a++]=t);r.length=a,o.length=a,this.heapify_()}}]),t}(),Zt=n(5128),Ct=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,r){var a;return(0,i.Z)(this,n),(a=e.call(this,(function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()}))).boundHandleTileChange_=a.handleTileChange.bind((0,o.Z)(a)),a.tileChangeCallback_=r,a.tilesLoading_=0,a.tilesLoadingKeys_={},a}return(0,r.Z)(n,[{key:"enqueue",value:function(t){var e=(0,a.Z)((0,s.Z)(n.prototype),"enqueue",this).call(this,t);e&&t[0].addEventListener($.Z.CHANGE,this.boundHandleTileChange_);return e}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(t){var e=t.target,n=e.getState();if(n===Zt.Z.LOADED||n===Zt.Z.ERROR||n===Zt.Z.EMPTY){n!==Zt.Z.ERROR&&e.removeEventListener($.Z.CHANGE,this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}},{key:"loadMoreTiles",value:function(t,e){for(var n,i,r=0;this.tilesLoading_<t&&r<e&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),n.getState()!==Zt.Z.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,n.load())}}]),n}(kt);var xt=n(430),Tt=n(4265),Rt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n),r=e.call(this);var o=t.element;return!o||t.target||o.style.pointerEvents||(o.style.pointerEvents="auto"),r.element=o||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return(0,r.Z)(n,[{key:"disposeInternal",value:function(){(0,V.ZF)(this.element),(0,a.Z)((0,s.Z)(n.prototype),"disposeInternal",this).call(this)}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(t){this.map_&&(0,V.ZF)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)(0,B.bN)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,t)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==m.Zn&&this.listenerKeys.push((0,B.oL)(t,ct,this.render,this)),t.render())}},{key:"render",value:function(t){}},{key:"setTarget",value:function(t){this.target_="string"===typeof t?document.getElementById(t):t}}]),n}(h.Z),wt=n(7678),bt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n),t=t||{},(r=e.call(this,{element:document.createElement("div"),render:t.render,target:t.target})).ulElement_=document.createElement("ul"),r.collapsed_=void 0===t.collapsed||t.collapsed,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=void 0!==t.collapsible,r.collapsible_=void 0===t.collapsible||t.collapsible,r.collapsible_||(r.collapsed_=!1);var a=void 0!==t.className?t.className:"ol-attribution",s=void 0!==t.tipLabel?t.tipLabel:"Attributions",u=void 0!==t.expandClassName?t.expandClassName:a+"-expand",l=void 0!==t.collapseLabel?t.collapseLabel:"\u203a",h=void 0!==t.collapseClassName?t.collapseClassName:a+"-collapse";"string"===typeof l?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=l,r.collapseLabel_.className=h):r.collapseLabel_=l;var c=void 0!==t.label?t.label:"i";"string"===typeof c?(r.label_=document.createElement("span"),r.label_.textContent=c,r.label_.className=u):r.label_=c;var d=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(d),r.toggleButton_.addEventListener($.Z.CLICK,r.handleClick_.bind((0,o.Z)(r)),!1);var v=a+" "+F+" "+N+(r.collapsed_&&r.collapsible_?" "+D:"")+(r.collapsible_?"":" ol-uncollapsible"),f=r.element;return f.className=v,f.appendChild(r.toggleButton_),f.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return(0,r.Z)(n,[{key:"collectSourceAttributions_",value:function(t){var e=Array.from(new Set(this.getMap().getAllLayers().flatMap((function(e){return e.getAttributions(t)})))),n=!this.getMap().getAllLayers().some((function(t){return t.getSource()&&!1===t.getSource().getAttributionsCollapsible()}));return this.overrideCollapsible_||this.setCollapsible(n),e}},{key:"updateElement_",value:function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,wt.fS)(e,this.renderedAttributions_)){(0,V.ep)(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var o=document.createElement("li");o.innerHTML=e[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}},{key:"handleClick_",value:function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}},{key:"handleToggle_",value:function(){this.element.classList.toggle(D),this.collapsed_?(0,V.$H)(this.collapseLabel_,this.label_):(0,V.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"render",value:function(t){this.updateElement_(t.frameState)}}]),n}(Rt),Pt=n(9868),It=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n),t=t||{},r=e.call(this,{element:document.createElement("div"),render:t.render,target:t.target});var a=void 0!==t.className?t.className:"ol-rotate",s=void 0!==t.label?t.label:"\u21e7",u=void 0!==t.compassClassName?t.compassClassName:"ol-compass";r.label_=null,"string"===typeof s?(r.label_=document.createElement("span"),r.label_.className=u,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(u));var l=t.tipLabel?t.tipLabel:"Reset rotation",h=document.createElement("button");h.className=a+"-reset",h.setAttribute("type","button"),h.title=l,h.appendChild(r.label_),h.addEventListener($.Z.CLICK,r.handleClick_.bind((0,o.Z)(r)),!1);var c=a+" "+F+" "+N,d=r.element;return d.className=c,d.appendChild(h),r.callResetNorth_=t.resetNorth?t.resetNorth:void 0,r.duration_=void 0!==t.duration?t.duration:250,r.autoHide_=void 0===t.autoHide||t.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(A),r}return(0,r.Z)(n,[{key:"handleClick_",value:function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}},{key:"resetNorth_",value:function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Pt.Vv}):t.setRotation(0))}}},{key:"render",value:function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(A);r||0!==n?r&&0!==n&&this.element.classList.remove(A):this.element.classList.add(A)}this.label_.style.transform=i}this.rotation_=n}}}]),n}(Rt),Lt=It,St=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n),t=t||{},r=e.call(this,{element:document.createElement("div"),target:t.target});var a=void 0!==t.className?t.className:"ol-zoom",s=void 0!==t.delta?t.delta:1,u=void 0!==t.zoomInClassName?t.zoomInClassName:a+"-in",l=void 0!==t.zoomOutClassName?t.zoomOutClassName:a+"-out",h=void 0!==t.zoomInLabel?t.zoomInLabel:"+",c=void 0!==t.zoomOutLabel?t.zoomOutLabel:"\u2013",d=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",v=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=u,f.setAttribute("type","button"),f.title=d,f.appendChild("string"===typeof h?document.createTextNode(h):h),f.addEventListener($.Z.CLICK,r.handleClick_.bind((0,o.Z)(r),s),!1);var g=document.createElement("button");g.className=l,g.setAttribute("type","button"),g.title=v,g.appendChild("string"===typeof c?document.createTextNode(c):c),g.addEventListener($.Z.CLICK,r.handleClick_.bind((0,o.Z)(r),-s),!1);var y=a+" "+F+" "+N,_=r.element;return _.className=y,_.appendChild(f),_.appendChild(g),r.duration_=void 0!==t.duration?t.duration:250,r}return(0,r.Z)(n,[{key:"handleClick_",value:function(t,e){e.preventDefault(),this.zoomByDelta_(t)}},{key:"zoomByDelta_",value:function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:Pt.Vv})):e.setZoom(i)}}}}]),n}(Rt);var Mt="active";function Ot(t,e,n,i){var r=t.getZoom();if(void 0!==r){var o=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:Pt.Vv})}}var At=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this)).on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return(0,r.Z)(n,[{key:"getActive",value:function(){return this.get(Mt)}},{key:"getMap",value:function(){return this.map_}},{key:"handleEvent",value:function(t){return!0}},{key:"setActive",value:function(t){this.set(Mt,t)}},{key:"setMap",value:function(t){this.map_=t}}]),n}(h.Z),Ft=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;return(0,i.Z)(this,n),t=t||{},(r=e.call(this)).delta_=t.delta?t.delta:1,r.duration_=void 0!==t.duration?t.duration:250,r}return(0,r.Z)(n,[{key:"handleEvent",value:function(t){var e=!1;if(t.type==st.DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;Ot(i.getView(),o,r,this.duration_),n.preventDefault(),e=!0}return!e}}]),n}(At);function Nt(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}var Dt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;return(0,i.Z)(this,n),t=t||{},r=e.call(this,t),t.handleDownEvent&&(r.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(r.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(r.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(r.handleUpEvent=t.handleUpEvent),t.stopDown&&(r.stopDown=t.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return(0,r.Z)(n,[{key:"getPointerCount",value:function(){return this.targetPointers.length}},{key:"handleDownEvent",value:function(t){return!1}},{key:"handleDragEvent",value:function(t){}},{key:"handleEvent",value:function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==st.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==st.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==st.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==st.POINTERMOVE&&this.handleMoveEvent(t);return!e}},{key:"handleMoveEvent",value:function(t){}},{key:"handleUpEvent",value:function(t){return!1}},{key:"stopDown",value:function(t){return t}},{key:"updateTrackedPointers_",value:function(t){t.activePointers&&(this.targetPointers=t.activePointers)}}]),n}(At);function jt(t){var e=arguments;return function(t){for(var n=!0,i=0,r=e.length;i<r&&(n=n&&e[i](t));++i);return n}}var zt=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Gt=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){var e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},Kt=m.uX,Ut=function(t){var e=t.originalEvent;return 0==e.button&&!(K.G$&&K.tK&&e.ctrlKey)},Vt=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Xt=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Yt=function(t){var e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},qt=function(t){var e=t.originalEvent;return(0,tt.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},Wt=function(t){var e=t.originalEvent;return(0,tt.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button},Ht=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n),t=t||{},(r=e.call(this,{stopDown:m.Dv})).kinetic_=t.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=t.condition?t.condition:jt(Vt,Wt);return r.condition_=t.onFocusOnly?jt(Gt,o):o,r.noKinetic_=!1,r}return(0,r.Z)(n,[{key:"handleDragEvent",value:function(t){var e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());var n=this.targetPointers,i=e.getEventPixel(Nt(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var r=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=t.map.getView();(0,b.bA)(r,o.getResolution()),(0,b.U1)(r,o.getRotation()),o.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}},{key:"handleUpEvent",value:function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),s=e.getCoordinateFromPixelInternal([a[0]-i*Math.cos(r),a[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:Pt.Vv})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}},{key:"handleDownEvent",value:function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}]),n}(Dt),Bt=n(3901),Qt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;return(0,i.Z)(this,n),t=t||{},(r=e.call(this,{stopDown:m.Dv})).condition_=t.condition?t.condition:zt,r.lastAngle_=void 0,r.duration_=void 0!==t.duration?t.duration:250,r}return(0,r.Z)(n,[{key:"handleDragEvent",value:function(t){if(qt(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Bt.h$){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}}}},{key:"handleUpEvent",value:function(t){return!qt(t)||(t.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(t){return!!qt(t)&&(!(!Ut(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}}]),n}(Dt),$t=n(3548),Jt=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this)).geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return(0,r.Z)(n,[{key:"disposeInternal",value:function(){this.setMap(null)}},{key:"render_",value:function(){var t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n}},{key:"setMap",value:function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}},{key:"setPixels",value:function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}},{key:"createOrUpdateGeometry",value:function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new $t.ZP([n])}},{key:"getGeometry",value:function(){return this.geometry_}}]),n}(p.Z),te="boxstart",ee="boxdrag",ne="boxend",ie="boxcancel",re=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t,r,o){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).coordinate=r,a.mapBrowserEvent=o,a}return(0,r.Z)(n)}(v.ZP),oe=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n);var o=(t=t||{}).condition?t.condition:Xt;return(r=e.call(this,{condition:o,className:t.className||"ol-dragzoom",minArea:t.minArea})).duration_=void 0!==t.duration?t.duration:200,r.out_=void 0!==t.out&&t.out,r}return(0,r.Z)(n,[{key:"onBoxEnd",value:function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var i=e.rotatedExtentForGeometry(n),r=e.getResolutionForExtentInternal(i),o=e.getResolution()/r;(n=n.clone()).scale(o*o)}e.fitInternal(n,{duration:this.duration_,easing:Pt.Vv})}}]),n}(function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this)).on,r.once,r.un,t=t||{},r.box_=new Jt(t.className||"ol-dragbox"),r.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(r.onBoxEnd=t.onBoxEnd),r.startPixel_=null,r.condition_=t.condition?t.condition:Ut,r.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:r.defaultBoxEndCondition,r}return(0,r.Z)(n,[{key:"defaultBoxEndCondition",value:function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_}},{key:"getGeometry",value:function(){return this.box_.getGeometry()}},{key:"handleDragEvent",value:function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new re(ee,t.coordinate,t))}},{key:"handleUpEvent",value:function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new re(e?ne:ie,t.coordinate,t)),!1}},{key:"handleDownEvent",value:function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new re(te,t.coordinate,t)),!0)}},{key:"onBoxEnd",value:function(t){}}]),n}(Dt)),ae="ArrowLeft",se="ArrowUp",ue="ArrowRight",le="ArrowDown",he=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;return(0,i.Z)(this,n),t=t||{},(r=e.call(this)).defaultCondition_=function(t){return Vt(t)&&Yt(t)},r.condition_=void 0!==t.condition?t.condition:r.defaultCondition_,r.duration_=void 0!==t.duration?t.duration:100,r.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128,r}return(0,r.Z)(n,[{key:"handleEvent",value:function(t){var e=!1;if(t.type==$.Z.KEYDOWN){var n=t.originalEvent,i=n.key;if(this.condition_(t)&&(i==le||i==ae||i==ue||i==se)){var r=t.map.getView(),o=r.getResolution()*this.pixelDelta_,a=0,s=0;i==le?s=-o:i==ae?a=-o:i==ue?a=o:s=o;var u=[a,s];(0,b.U1)(u,r.getRotation()),function(t,e,n){var i=t.getCenterInternal();if(i){var r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:Pt.GE,center:t.getConstrainedCenter(r)})}}(r,u,this.duration_),n.preventDefault(),e=!0}}return!e}}]),n}(At),ce=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;return(0,i.Z)(this,n),t=t||{},(r=e.call(this)).condition_=t.condition?t.condition:function(t){return!function(t){var e=t.originalEvent;return K.tK?e.metaKey:e.ctrlKey}(t)&&Yt(t)},r.delta_=t.delta?t.delta:1,r.duration_=void 0!==t.duration?t.duration:100,r}return(0,r.Z)(n,[{key:"handleEvent",value:function(t){var e=!1;if(t.type==$.Z.KEYDOWN||t.type==$.Z.KEYPRESS){var n=t.originalEvent,i=n.key;if(this.condition_(t)&&("+"===i||"-"===i)){var r=t.map,o="+"===i?this.delta_:-this.delta_;Ot(r.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}}]),n}(At),de=function(){function t(e,n,r){(0,i.Z)(this,t),this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return(0,r.Z)(t,[{key:"begin",value:function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}},{key:"update",value:function(t,e){this.points_.push(t,e,Date.now())}},{key:"end",value:function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_}},{key:"getDistance",value:function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}},{key:"getAngle",value:function(){return this.angle_}}]),t}(),ve=n(2357),fe=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n),t=t||{},(r=e.call(this,t)).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,r.duration_=void 0!==t.duration?t.duration:250,r.timeout_=void 0!==t.timeout?t.timeout:80,r.useAnchor_=void 0===t.useAnchor||t.useAnchor,r.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;var o=t.condition?t.condition:Kt;return r.condition_=t.onFocusOnly?jt(Gt,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return(0,r.Z)(n,[{key:"endInteraction_",value:function(){this.trackpadTimeoutId_=void 0;var t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},{key:"handleEvent",value:function(t){if(!this.condition_(t))return!0;if(t.type!==$.Z.WHEEL)return!0;var e,n=t.map,i=t.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==$.Z.WHEEL&&(e=i.deltaY,K.V&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=K.MP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?"trackpad":"wheel");var o=n.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=e;var a=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1}},{key:"handleWheelZoom_",value:function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-(0,ve.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Ot(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}},{key:"setMouseAnchor",value:function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}]),n}(At),ge=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n);var o=t=t||{};return o.stopDown||(o.stopDown=m.Dv),(r=e.call(this,o)).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==t.threshold?t.threshold:.3,r.duration_=void 0!==t.duration?t.duration:250,r}return(0,r.Z)(n,[{key:"handleDragEvent",value:function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var a=t.map,s=a.getView();s.getConstraints().rotation!==Bt.h$&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(Nt(this.targetPointers))),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_)))}},{key:"handleUpEvent",value:function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}]),n}(Dt),ye=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n);var o=t=t||{};return o.stopDown||(o.stopDown=m.Dv),(r=e.call(this,o)).anchor_=null,r.duration_=void 0!==t.duration?t.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return(0,r.Z)(n,[{key:"handleDragEvent",value:function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,a=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,u=s.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(Nt(this.targetPointers))),s.render(),u.adjustResolutionInternal(e,this.anchor_)}},{key:"handleUpEvent",value:function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0}},{key:"handleDownEvent",value:function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}]),n}(Dt);var _e=n(724),pe=n(4046),me=n(9972);function Ee(t){t instanceof w.Z?t.setMapInternal(null):t instanceof rt&&t.getLayers().forEach(Ee)}function ke(t,e){if(t instanceof w.Z)t.setMapInternal(e);else if(t instanceof rt)for(var n=t.getLayers().getArray(),i=0,r=n.length;i<r;++i)ke(n[i],e)}var Ze=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(t){var r;(0,i.Z)(this,n),t=t||{},(r=e.call(this)).on,r.once,r.un;var a=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,o={},a=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new rt({layers:t.layers});o[yt]=a,o[pt]=t.target,o[mt]=t.view instanceof xt.ZP?t.view:new xt.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?n=new _(t.controls.slice()):((0,tt.h)("function"===typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new _(t.interactions.slice()):((0,tt.h)("function"===typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?r=new _(t.overlays.slice()):((0,tt.h)("function"===typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),r=t.overlays):r=new _;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:o}}(t);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind((0,o.Z)(r)),r.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,r.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:K.MP,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=r.animationDelay_.bind((0,o.Z)(r)),r.coordinateToPixelTransform_=(0,k.Ue)(),r.pixelToCoordinateTransform_=(0,k.Ue)(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=a.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.targetElement_=null,r.resizeObserver_=new ResizeObserver((function(){return r.updateSize()})),r.controls=a.controls||function(t){t=t||{};var e=new _;return(void 0===t.zoom||t.zoom)&&e.push(new St(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new Lt(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new bt(t.attributionOptions)),e}(),r.interactions=a.interactions||function(t){t=t||{};var e=new _,n=new de(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Qt),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new Ft({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Ht({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new ge),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new ye({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new he),e.push(new ce({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new fe({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new oe({duration:t.zoomDuration})),e}({onFocusOnly:!0}),r.overlays_=a.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new Ct(r.getTilePriority.bind((0,o.Z)(r)),r.handleTileChange_.bind((0,o.Z)(r))),r.addChangeListener(yt,r.handleLayerGroupChanged_),r.addChangeListener(mt,r.handleViewChanged_),r.addChangeListener(_t,r.handleSizeChanged_),r.addChangeListener(pt,r.handleTargetChanged_),r.setProperties(a.values);var s=(0,o.Z)(r);return!t.view||t.view instanceof xt.ZP||t.view.then((function(t){s.setView(new xt.ZP(t))})),r.controls.addEventListener(c,(function(t){t.element.setMap((0,o.Z)(r))})),r.controls.addEventListener(d,(function(t){t.element.setMap(null)})),r.interactions.addEventListener(c,(function(t){t.element.setMap((0,o.Z)(r))})),r.interactions.addEventListener(d,(function(t){t.element.setMap(null)})),r.overlays_.addEventListener(c,(function(t){r.addOverlayInternal_(t.element)})),r.overlays_.addEventListener(d,(function(t){var e=t.element.getId();void 0!==e&&delete r.overlayIdIndex_[e.toString()],t.element.setMap(null)})),r.controls.forEach((function(t){t.setMap((0,o.Z)(r))})),r.interactions.forEach((function(t){t.setMap((0,o.Z)(r))})),r.overlays_.forEach(r.addOverlayInternal_.bind((0,o.Z)(r))),r}return(0,r.Z)(n,[{key:"addControl",value:function(t){this.getControls().push(t)}},{key:"addInteraction",value:function(t){this.getInteractions().push(t)}},{key:"addLayer",value:function(t){this.getLayerGroup().getLayers().push(t)}},{key:"handleLayerAdd_",value:function(t){ke(t.layer,this)}},{key:"addOverlay",value:function(t){this.getOverlays().push(t)}},{key:"addOverlayInternal_",value:function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}},{key:"disposeInternal",value:function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),(0,a.Z)((0,s.Z)(n.prototype),"disposeInternal",this).call(this)}},{key:"forEachFeatureAtPixel",value:function(t,e,n){if(this.frameState_&&this.renderer_){var i=this.getCoordinateFromPixelInternal(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:m.uX,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,a,e,null,o,null)}}},{key:"getFeaturesAtPixel",value:function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}},{key:"getAllLayers",value:function(){var t=[];return function e(n){n.forEach((function(n){n instanceof rt?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t}},{key:"hasFeatureAtPixel",value:function(t,e){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:m.uX,r=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)}},{key:"getEventCoordinate",value:function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}},{key:"getEventCoordinateInternal",value:function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}},{key:"getEventPixel",value:function(t){var e=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=e.width/n[0],r=e.height/n[1],o="changedTouches"in t?t.changedTouches[0]:t;return[(o.clientX-e.left)/i,(o.clientY-e.top)/r]}},{key:"getTarget",value:function(){return this.get(pt)}},{key:"getTargetElement",value:function(){return this.targetElement_}},{key:"getCoordinateFromPixel",value:function(t){return(0,_e.lO)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}},{key:"getCoordinateFromPixelInternal",value:function(t){var e=this.frameState_;return e?(0,k.nn)(e.pixelToCoordinateTransform,t.slice()):null}},{key:"getControls",value:function(){return this.controls}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}},{key:"getInteractions",value:function(){return this.interactions}},{key:"getLayerGroup",value:function(){return this.get(yt)}},{key:"setLayers",value:function(t){var e=this.getLayerGroup();if(t instanceof _)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoadingOrNotReady",value:function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e];if(i.visible){var r=i.layer.getRenderer();if(r&&!r.ready)return!0;var o=i.layer.getSource();if(o&&o.loading)return!0}}return!1}},{key:"getPixelFromCoordinate",value:function(t){var e=(0,_e.Vs)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}},{key:"getPixelFromCoordinateInternal",value:function(t){var e=this.frameState_;return e?(0,k.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.get(_t)}},{key:"getView",value:function(){return this.get(mt)}},{key:"getViewport",value:function(){return this.viewport_}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getOwnerDocument",value:function(){var t=this.getTargetElement();return t?t.ownerDocument:document}},{key:"getTilePriority",value:function(t,e,n,i){return function(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return Et;if(!t.wantedTiles[n][e.getKey()])return Et;var o=t.viewState.center,a=i[0]-o[0],s=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(a*a+s*s)/r}(this.frameState_,t,e,n,i)}},{key:"handleBrowserEvent",value:function(t,e){e=e||t.type;var n=new at(e,this,t);this.handleMapBrowserEvent(n)}},{key:"handleMapBrowserEvent",value:function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===lt||n===$.Z.WHEEL||n===$.Z.KEYDOWN){var i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=e.target;if(this.overlayContainerStopEvent_.contains(o)||!(r===i?i.documentElement:r).contains(o))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var u=a[s];if(u.getMap()===this&&u.getActive()&&this.getTargetElement())if(!u.handleEvent(t)||t.propagationStopped)break}}}},{key:"handlePostRender",value:function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;if(r[Tt.Z.ANIMATING]||r[Tt.Z.INTERACTING]){var o=Date.now()-t.time>8;n=o?0:8,i=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(O.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(O.Z.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new ot(gt,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new ot(ft,this,t))));for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0}},{key:"handleSizeChanged_",value:function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}},{key:"handleTargetChanged_",value:function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,B.bN)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener($.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener($.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,V.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);var n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host),this.setSize(void 0)}var i=this.getTarget(),r="string"===typeof i?document.getElementById(i):i;if(this.targetElement_=r,r){for(var o in r.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Q(this)),this.mapBrowserEventHandler_=new ht(this,this.moveTolerance_),st)this.mapBrowserEventHandler_.addEventListener(st[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener($.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener($.Z.WHEEL,this.boundHandleBrowserEvent_,!!K.bM&&{passive:!1});var a=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[(0,B.oL)(a,$.Z.KEYDOWN,this.handleBrowserEvent,this),(0,B.oL)(a,$.Z.KEYPRESS,this.handleBrowserEvent,this)];var s=r.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(r)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&((0,B.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,B.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,B.oL)(t,S.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,B.oL)(t,$.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}},{key:"handleLayerGroupChanged_",value:function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(B.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new et("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,B.oL)(t,S.Z.PROPERTYCHANGE,this.render,this),(0,B.oL)(t,$.Z.CHANGE,this.render,this),(0,B.oL)(t,"addlayer",this.handleLayerAdd_,this),(0,B.oL)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"animationDelay_",value:function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}},{key:"renderSync",value:function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}},{key:"redrawText",value:function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"flushDeclutterItems",value:function(){var t=this.frameState_;t&&this.renderer_.flushDeclutterItems(t)}},{key:"removeControl",value:function(t){return this.getControls().remove(t)}},{key:"removeInteraction",value:function(t){return this.getInteractions().remove(t)}},{key:"removeLayer",value:function(t){return this.getLayerGroup().getLayers().remove(t)}},{key:"handleLayerRemove_",value:function(t){Ee(t.layer)}},{key:"removeOverlay",value:function(t){return this.getOverlays().remove(t)}},{key:"renderFrame_",value:function(t){var e=this,n=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(void 0!==n&&(0,pe.py)(n)&&i&&i.isDef()){var a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,Z.p8)(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{},mapId:(0,E.sq)(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var u=isNaN(s.nextRotation)?s.rotation:s.nextRotation;o.nextExtent=(0,Z.p8)(s.nextCenter,s.nextResolution,u,n)}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r)(!this.previousExtent_||!(0,Z.xb)(this.previousExtent_)&&!(0,Z.fS)(o.extent,this.previousExtent_))&&(this.dispatchEvent(new ot(dt,this,r)),this.previousExtent_=(0,Z.YN)(this.previousExtent_));this.previousExtent_&&!o.viewHints[Tt.Z.ANIMATING]&&!o.viewHints[Tt.Z.INTERACTING]&&!(0,Z.fS)(o.extent,this.previousExtent_)&&(this.dispatchEvent(new ot(vt,this,o)),(0,Z.d9)(o.extent,this.previousExtent_))}this.dispatchEvent(new ot(ct,this,o)),this.renderComplete_=this.hasListener(ft)||this.hasListener(gt)||this.hasListener(O.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))}},{key:"setLayerGroup",value:function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new et("removelayer",e)),this.set(yt,t)}},{key:"setSize",value:function(t){this.set(_t,t)}},{key:"setTarget",value:function(t){this.set(pt,t)}},{key:"setView",value:function(t){if(!t||t instanceof xt.ZP)this.set(mt,t);else{this.set(mt,new xt.ZP);var e=this;t.then((function(t){e.setView(new xt.ZP(t))}))}}},{key:"updateSize",value:function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||(e=[i,r],!(0,pe.py)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,me.ZK)("No map visible because the map container's width or height are 0."))}var o=this.getSize();!e||o&&(0,wt.fS)(e,o)||(this.setSize(e),this.updateViewportSize_())}},{key:"updateViewportSize_",value:function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}}}]),n}(h.Z);var Ce=Ze},5957:function(t,e,n){var i=n(7326),r=n(3144),o=n(5671),a=n(136),s=n(4062),u=n(5326),l=n(6594),h=n(5201),c=n(6006),d=n(6841),v=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,i,r){var a;return(0,o.Z)(this,n),(a=e.call(this,t)).key=i,a.oldValue=r,a}return(0,r.Z)(n)}(u.ZP),f=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t){var r;return(0,o.Z)(this,n),(r=e.call(this)).on,r.once,r.un,(0,c.sq)((0,i.Z)(r)),r.values_=null,void 0!==t&&r.setProperties(t),r}return(0,r.Z)(n,[{key:"get",value:function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&Object.assign({},this.values_)||{}}},{key:"getPropertiesInternal",value:function(){return this.values_}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(t,e){var n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new v(n,t,e)),n=l.Z.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new v(n,t,e))}},{key:"addChangeListener",value:function(t,e){this.addEventListener("change:".concat(t),e)}},{key:"removeChangeListener",value:function(t,e){this.removeEventListener("change:".concat(t),e)}},{key:"set",value:function(t,e,n){var i=this.values_||(this.values_={});if(n)i[t]=e;else{var r=i[t];i[t]=e,r!==e&&this.notify(t,r)}}},{key:"setProperties",value:function(t,e){for(var n in t)this.set(n,t[n],e)}},{key:"applyProperties",value:function(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}},{key:"unset",value:function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],(0,d.x)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}]),n}(h.Z);e.Z=f},6594:function(t,e){e.Z={PROPERTYCHANGE:"propertychange"}},5201:function(t,e,n){var i=n(5671),r=n(3144),o=n(136),a=n(4062),s=n(2064),u=n(5947),l=n(923),h=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;return(0,i.Z)(this,n),(t=e.call(this)).on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return(0,r.Z)(n,[{key:"changed",value:function(){++this.revision_,this.dispatchEvent(u.Z.CHANGE)}},{key:"getRevision",value:function(){return this.revision_}},{key:"onInternal",value:function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=(0,l.oL)(this,t[r],e);return i}return(0,l.oL)(this,t,e)}},{key:"onceInternal",value:function(t,e){var n;if(Array.isArray(t)){var i=t.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=(0,l.Vx)(this,t[r],e)}else n=(0,l.Vx)(this,t,e);return e.ol_key=n,n}},{key:"unInternal",value:function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)(0,l.bN)(t[e]);else(0,l.bN)(t)}(n);else if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}]),n}(s.Z);h.prototype.on,h.prototype.once,h.prototype.un,e.Z=h},1967:function(t,e,n){var i=n(5671),r=n(3144),o=n(136),a=n(4062),s=n(2064),u=n(5947),l=n(5128),h=n(6006),c=n(9868),d=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,r,o){var a;return(0,i.Z)(this,n),o=o||{},(a=e.call(this)).tileCoord=t,a.state=r,a.interimTile=null,a.key="",a.transition_=void 0===o.transition?250:o.transition,a.transitionStarts_={},a.interpolate=!!o.interpolate,a}return(0,r.Z)(n,[{key:"changed",value:function(){this.dispatchEvent(u.Z.CHANGE)}},{key:"release",value:function(){this.state===l.Z.ERROR&&this.setState(l.Z.EMPTY)}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getInterimTile",value:function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==l.Z.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}},{key:"refreshInterimChain",value:function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==l.Z.LOADED){t.interimTile=null;break}t.getState()==l.Z.LOADING?e=t:t.getState()==l.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){if(this.state!==l.Z.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}},{key:"load",value:function(){(0,h.O3)()}},{key:"getAlpha",value:function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:(0,c.YQ)(i/this.transition_)}},{key:"inTransition",value:function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}},{key:"endTransition",value:function(t){this.transition_&&(this.transitionStarts_[t]=-1)}}]),n}(s.Z);e.Z=d},7805:function(t,e,n){n.d(e,{T:function(){return a}});var i=n(5671),r=n(3144),o=function(){function t(e,n,r,o){(0,i.Z)(this,t),this.minX=e,this.maxX=n,this.minY=r,this.maxY=o}return(0,r.Z)(t,[{key:"contains",value:function(t){return this.containsXY(t[1],t[2])}},{key:"containsTileRange",value:function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}},{key:"containsXY",value:function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}},{key:"equals",value:function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}},{key:"extend",value:function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}]),t}();function a(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new o(t,e,n,i)}e.Z=o},5128:function(t,e){e.Z={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},430:function(t,e,n){n.d(e,{ZP:function(){return I}});var i=n(5671),r=n(3144),o=n(136),a=n(4062),s=n(5957),u=n(4265),l={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},h=n(794),c=n(724),d=n(6661),v=n(2024),f=n(6862),g=n(2357);function y(t,e,n){return function(i,r,o,a,s){if(i){if(!r&&!e)return i;var u=e?0:o[0]*r,l=e?0:o[1]*r,h=s?s[0]:0,c=s?s[1]:0,d=t[0]+u/2+h,v=t[2]-u/2+h,f=t[1]+l/2+c,y=t[3]-l/2+c;d>v&&(v=d=(v+d)/2),f>y&&(y=f=(y+f)/2);var _=(0,g.uZ)(i[0],d,v),p=(0,g.uZ)(i[1],f,y);if(a&&n&&r){var m=30*r;_+=-m*Math.log(1+Math.max(0,d-i[0])/m)+m*Math.log(1+Math.max(0,i[0]-v)/m),p+=-m*Math.log(1+Math.max(0,f-i[1])/m)+m*Math.log(1+Math.max(0,i[1]-y)/m)}return[_,p]}}}function _(t){return t}var p=n(6889),m=n(7678);function E(t,e,n,i){var r=(0,p.dz)(e)/n[0],o=(0,p.Cr)(e)/n[1];return i?Math.min(t,Math.max(r,o)):Math.min(t,Math.min(r,o))}function k(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),(0,g.uZ)(i,n/2,2*e)}function Z(t,e,n,i,r){return n=void 0===n||n,function(o,a,s,u){if(void 0!==o){var l=i?E(t,i,s,r):t;return n&&u?k(o,l,e):(0,g.uZ)(o,e,l)}}}var C=n(3901),x=n(9868),T=n(3548),R=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this)).on,r.once,r.un,t=Object.assign({},t),r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=(0,c.UQ)(t.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,t.projection&&(0,c.h_)(),t.center&&(t.center=(0,c.Vs)(t.center,r.projection_)),t.extent&&(t.extent=(0,c.dY)(t.extent,r.projection_)),r.applyOptions_(t),r}return(0,r.Z)(n,[{key:"applyOptions_",value:function(t){var e=Object.assign({},t);for(var n in l)delete e[n];this.setProperties(e,!0);var i=function(t){var e,n,i,r=28,o=2,a=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:r,u=void 0!==t.zoomFactor?t.zoomFactor:o,l=void 0!==t.multiWorld&&t.multiWorld,d=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,v=void 0!==t.showFullExtent&&t.showFullExtent,f=(0,c.UQ)(t.projection,"EPSG:3857"),y=f.getExtent(),_=t.constrainOnlyCenter,C=t.extent;l||C||!f.isGlobal()||(_=!1,C=y);if(void 0!==t.resolutions){var x=t.resolutions;n=x[a],i=void 0!==x[s]?x[s]:x[x.length-1],e=t.constrainResolution?function(t,e,n,i){return e=void 0===e||e,function(r,o,a,s){if(void 0!==r){var u=t[0],l=t[t.length-1],h=n?E(u,n,a,i):u;if(s)return e?k(r,h,l):(0,g.uZ)(r,l,h);var c=Math.min(h,r),d=Math.floor((0,m.h7)(t,c,o));return t[d]>h&&d<t.length-1?t[d+1]:t[d]}}}(x,d,!_&&C,v):Z(n,i,d,!_&&C,v)}else{var T=(y?Math.max((0,p.dz)(y),(0,p.Cr)(y)):360*c.Wm.degrees/f.getMetersPerUnit())/h.S/Math.pow(o,0),R=T/Math.pow(o,r-0);void 0!==(n=t.maxResolution)?a=0:n=T/Math.pow(u,a),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,s):T/Math.pow(u,s):R),s=a+Math.floor(Math.log(n/i)/Math.log(u)),i=n/Math.pow(u,s-a),e=t.constrainResolution?function(t,e,n,i,r,o){return i=void 0===i||i,n=void 0!==n?n:0,function(a,s,u,l){if(void 0!==a){var h=r?E(e,r,u,o):e;if(l)return i?k(a,h,n):(0,g.uZ)(a,n,h);var c=Math.ceil(Math.log(e/h)/Math.log(t)-1e-9),d=-s*(.5-1e-9)+.5,v=Math.min(h,a),f=Math.floor(Math.log(e/v)/Math.log(t)+d),y=Math.max(c,f),_=e/Math.pow(t,y);return(0,g.uZ)(_,n,h)}}}(u,n,i,d,!_&&C,v):Z(n,i,d,!_&&C,v)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:a,zoomFactor:u}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var r=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return y(t.extent,t.constrainOnlyCenter,e)}var n=(0,c.UQ)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,y(i,!1,!1)}return _}(t),o=i.constraint,a=function(t){var e=void 0===t.enableRotation||t.enableRotation;if(e){var n=t.constrainRotation;return void 0===n||!0===n?(0,C.Gw)():!1===n?C.YP:"number"===typeof n?(0,C.gE)(n):C.YP}return C.h$}(t);this.constraints_={center:r,resolution:o,rotation:a},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenterInternal();if(n){var i=t||[0,0,0,0];e=e||[0,0,0,0];var r=this.getResolution(),o=r/2*(i[3]-e[3]+e[1]-i[1]),a=r/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+o,n[1]-a])}}},{key:"getUpdatedOptions_",value:function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}},{key:"animate",value:function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=Object.assign({},i)).center=(0,c.Vs)(i.center,this.getProjection())),i.anchor&&((i=Object.assign({},i)).anchor=(0,c.Vs)(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)}},{key:"animateInternal",value:function(t){var e,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var r=arguments[i];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(i!==n){for(var o=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,h=[];i<n;++i){var c=arguments[i],d={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||x.rd,callback:e};if(c.center&&(d.sourceCenter=a,d.targetCenter=c.center.slice(),a=d.targetCenter),void 0!==c.zoom?(d.sourceResolution=s,d.targetResolution=this.getResolutionForZoom(c.zoom),s=d.targetResolution):c.resolution&&(d.sourceResolution=s,d.targetResolution=c.resolution,s=d.targetResolution),void 0!==c.rotation){d.sourceRotation=l;var v=(0,g.$W)(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+v,l=d.targetRotation}b(d)?d.complete=!0:o+=d.duration,h.push(d)}this.animations_.push(h),this.setHint(u.Z.ANIMATING,1),this.updateAnimations_()}else e&&w(e,!0)}},{key:"getAnimating",value:function(){return this.hints_[u.Z.ANIMATING]>0}},{key:"getInteracting",value:function(){return this.hints_[u.Z.INTERACTING]>0}},{key:"cancelAnimations",value:function(){var t;this.setHint(u.Z.ANIMATING,-this.hints_[u.Z.ANIMATING]);for(var e=0,n=this.animations_.length;e<n;++e){var i=this.animations_[e];if(i[0].callback&&w(i[0].callback,!1),!t)for(var r=0,o=i.length;r<o;++r){var a=i[r];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,a=i.length;o<a;++o){var s=i[o];if(!s.complete){var l=t-s.start,h=s.duration>0?l/s.duration:1;h>=1?(s.complete=!0,h=1):r=!1;var c=s.easing(h);if(s.sourceCenter){var d=s.sourceCenter[0],v=s.sourceCenter[1],f=s.targetCenter[0],y=s.targetCenter[1];this.nextCenter_=s.targetCenter;var _=d+c*(f-d),p=v+c*(y-v);this.targetCenter_=[_,p]}if(s.sourceResolution&&s.targetResolution){var m=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var E=this.getViewportSize_(this.getRotation()),k=this.constraints_.resolution(m,0,E,!0);this.targetCenter_=this.calculateCenterZoom(k,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=m,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var Z=1===c?(0,g.$W)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var C=this.constraints_.rotation(Z,!0);this.targetCenter_=this.calculateCenterRotate(C,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=Z}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(r){this.animations_[n]=null,this.setHint(u.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var x=i[0].callback;x&&w(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(t,e){var n,i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],(0,v.U1)(n,t-this.getRotation()),(0,v.IH)(n,e)),n}},{key:"calculateCenterZoom",value:function(t,e){var n,i=this.getCenterInternal(),r=this.getResolution();void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]);return n}},{key:"getViewportSize_",value:function(t){var e=this.viewportSize_;if(t){var n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}},{key:"setViewportSize",value:function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var t=this.getCenterInternal();return t?(0,c.lO)(t,this.getProjection()):t}},{key:"getCenterInternal",value:function(){return this.get(l.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}},{key:"calculateExtent",value:function(t){var e=this.calculateExtentInternal(t);return(0,c.Fj)(e,this.getProjection())}},{key:"calculateExtentInternal",value:function(t){t=t||this.getViewportSizeMinusPadding_();var e=this.getCenterInternal();(0,f.h)(e,"The view center is not defined");var n=this.getResolution();(0,f.h)(void 0!==n,"The view resolution is not defined");var i=this.getRotation();return(0,f.h)(void 0!==i,"The view rotation is not defined"),(0,p.p8)(e,n,i,t)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}},{key:"setConstrainResolution",value:function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(l.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(t,e){return this.getResolutionForExtentInternal((0,c.dY)(t,this.getProjection()),e)}},{key:"getResolutionForExtentInternal",value:function(t,e){e=e||this.getViewportSizeMinusPadding_();var n=(0,p.dz)(t)/e[0],i=(0,p.Cr)(t)/e[1];return Math.max(n,i)}},{key:"getResolutionForValueFunction",value:function(t){t=t||2;var e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*i)}}},{key:"getRotation",value:function(){return this.get(l.ROTATION)}},{key:"getValueForResolutionFunction",value:function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/e;return function(t){return Math.log(n/t)/e/r}}},{key:"getViewportSizeMinusPadding_",value:function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}},{key:"getState",value:function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),r=this.padding_;if(r){var o=this.getViewportSizeMinusPadding_();i=P(i,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}},{key:"getViewStateAndExtent",value:function(){return{viewState:this.getState(),extent:this.calculateExtent()}}},{key:"getZoom",value:function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}},{key:"getZoomForResolution",value:function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=(0,m.h7)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}},{key:"getResolutionForZoom",value:function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,g.uZ)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,g.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}},{key:"fit",value:function(t,e){var n;if((0,f.h)(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){(0,f.h)(!(0,p.xb)(t),"Cannot fit empty extent provided as `geometry`");var i=(0,c.dY)(t,this.getProjection());n=(0,T.oJ)(i)}else if("Circle"===t.getType()){var r=(0,c.dY)(t.getExtent(),this.getProjection());(n=(0,T.oJ)(r)).rotate(this.getRotation(),(0,p.qg)(r))}else{var o=(0,c.Cs)();n=o?t.clone().transform(o,this.getProjection()):t}this.fitInternal(n,e)}},{key:"rotatedExtentForGeometry",value:function(t){for(var e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),r=t.getFlatCoordinates(),o=t.getStride(),a=1/0,s=1/0,u=-1/0,l=-1/0,h=0,c=r.length;h<c;h+=o){var d=r[h]*n-r[h+1]*i,v=r[h]*i+r[h+1]*n;a=Math.min(a,d),s=Math.min(s,v),u=Math.max(u,d),l=Math.max(l,v)}return[a,s,u,l]}},{key:"fitInternal",value:function(t,e){var n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());var i,r=void 0!==e.padding?e.padding:[0,0,0,0],o=void 0!==e.nearest&&e.nearest;i=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;var a=this.rotatedExtentForGeometry(t),s=this.getResolutionForExtentInternal(a,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);s=isNaN(s)?i:Math.max(s,i),s=this.getConstrainedResolution(s,o?0:1);var u=this.getRotation(),l=Math.sin(u),h=Math.cos(u),c=(0,p.qg)(a);c[0]+=(r[1]-r[3])/2*s,c[1]+=(r[0]-r[2])/2*s;var v=c[0]*h-c[1]*l,f=c[1]*h+c[0]*l,g=this.getConstrainedCenter([v,f],s),y=e.callback?e.callback:d.Zn;void 0!==e.duration?this.animateInternal({resolution:s,center:g,duration:e.duration,easing:e.easing},y):(this.targetResolution_=s,this.targetCenter_=g,this.applyTargetState_(!1,!0),w(y,!0))}},{key:"centerOn",value:function(t,e,n){this.centerOnInternal((0,c.Vs)(t,this.getProjection()),e,n)}},{key:"centerOnInternal",value:function(t,e,n){this.setCenterInternal(P(t,e,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(t,e,n,i){var r,o=this.padding_;if(o&&t){var a=this.getViewportSizeMinusPadding_(-n),s=P(t,i,[a[0]/2+o[3],a[1]/2+o[0]],e,n);r=[t[0]-s[0],t[1]-s[1]]}return r}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(t){var e=(0,c.lO)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}},{key:"adjustCenterInternal",value:function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}},{key:"adjustResolution",value:function(t,e){e=e&&(0,c.Vs)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}},{key:"adjustResolutionInternal",value:function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}},{key:"adjustZoom",value:function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}},{key:"adjustRotation",value:function(t,e){e&&(e=(0,c.Vs)(e,this.getProjection())),this.adjustRotationInternal(t,e)}},{key:"adjustRotationInternal",value:function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}},{key:"setCenter",value:function(t){this.setCenterInternal(t?(0,c.Vs)(t,this.getProjection()):t)}},{key:"setCenterInternal",value:function(t){this.targetCenter_=t,this.applyTargetState_()}},{key:"setHint",value:function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}},{key:"setResolution",value:function(t){this.targetResolution_=t,this.applyTargetState_()}},{key:"setRotation",value:function(t){this.targetRotation_=t,this.applyTargetState_()}},{key:"setZoom",value:function(t){this.setResolution(this.getResolutionForZoom(t))}},{key:"applyTargetState_",value:function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get(l.ROTATION)!==i&&this.set(l.ROTATION,i),this.get(l.RESOLUTION)!==o&&(this.set(l.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(l.CENTER)&&(0,v.fS)(this.get(l.CENTER),a)||this.set(l.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(t,e,n){t=void 0!==t?t:200;var i=e||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,i,o),s=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,r,o));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=s,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===r&&this.getCenterInternal()&&(0,v.fS)(this.getCenterInternal(),s)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:s,resolution:a,duration:t,easing:x.Vv,anchor:n}))}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(u.Z.INTERACTING,1)}},{key:"endInteraction",value:function(t,e,n){n=n&&(0,c.Vs)(n,this.getProjection()),this.endInteractionInternal(t,e,n)}},{key:"endInteractionInternal",value:function(t,e,n){this.getInteracting()&&(this.setHint(u.Z.INTERACTING,-1),this.resolveConstraints(t,e,n))}},{key:"getConstrainedCenter",value:function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}},{key:"getConstrainedResolution",value:function(t,e){e=e||0;var n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}]),n}(s.Z);function w(t,e){setTimeout((function(){t(e)}),0)}function b(t){return!(t.sourceCenter&&t.targetCenter&&!(0,v.fS)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function P(t,e,n,i,r){var o=Math.cos(-r),a=Math.sin(-r),s=t[0]*o-t[1]*a,u=t[1]*o+t[0]*a;return[(s+=(e[0]/2-n[0])*i)*o-(u+=(n[1]-e[1]/2)*i)*(a=-a),u*o+s*a]}var I=R},4265:function(t,e){e.Z={ANIMATING:0,INTERACTING:1}},7678:function(t,e,n){function i(t,e){return t>e?1:t<e?-1:0}function r(t,e,n){if(t[0]<=e)return 0;var i=t.length;if(e<=t[i-1])return i-1;if("function"===typeof n){for(var r=1;r<i;++r){var o=t[r];if(o===e)return r;if(o<e)return n(e,t[r-1],o)>0?r-1:r}return i-1}if(n>0){for(var a=1;a<i;++a)if(t[a]<e)return a-1;return i-1}if(n<0){for(var s=1;s<i;++s)if(t[s]<=e)return s;return i-1}for(var u=1;u<i;++u){if(t[u]==e)return u;if(t[u]<e)return t[u-1]-e<e-t[u]?u-1:u}return i-1}function o(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function a(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function s(t,e,n){var r=e||i;return t.every((function(e,i){if(0===i)return!0;var o=r(t[i-1],e);return!(o>0||n&&0===o)}))}n.d(e,{fS:function(){return a},h7:function(){return r},j2:function(){return i},l7:function(){return o},pT:function(){return s}})},6862:function(t,e,n){function i(t,e){if(!t)throw new Error(e)}n.d(e,{h:function(){return i}})},6838:function(t,e,n){n.d(e,{XC:function(){return a},_2:function(){return l}});var i=n(2357),r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(t){return"string"===typeof t?t:function(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];i!=(0|i)&&(i=i+.5|0);var r=void 0===t[3]?1:Math.round(100*t[3])/100;return"rgba("+e+","+n+","+i+","+r+")"}(t)}function s(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var u=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var a=0;for(var u in t)0===(3&a++)&&(delete t[u],--e)}i=function(t){var e,n,i,a,u;o.exec(t)&&(t=s(t));if(r.exec(t)){var l,c=t.length-1;l=c<=4?1:2;var d=4===c||8===c;e=parseInt(t.substr(1+0*l,l),16),n=parseInt(t.substr(1+1*l,l),16),i=parseInt(t.substr(1+2*l,l),16),a=d?parseInt(t.substr(1+3*l,l),16):255,1==l&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,d&&(a=(a<<4)+a)),u=[e,n,i,a/255]}else if(t.startsWith("rgba("))h(u=t.slice(5,-1).split(",").map(Number));else{if(!t.startsWith("rgb("))throw new Error("Invalid color");(u=t.slice(4,-1).split(",").map(Number)).push(1),h(u)}return u}(n),t[n]=i,++e}return i}}();function l(t){return Array.isArray(t)?t:u(t)}function h(t){return t[0]=(0,i.uZ)(t[0]+.5|0,0,255),t[1]=(0,i.uZ)(t[1]+.5|0,0,255),t[2]=(0,i.uZ)(t[2]+.5|0,0,255),t[3]=(0,i.uZ)(t[3],0,1),t}},9972:function(t,e,n){n.d(e,{ZK:function(){return o}});var i={info:1,warn:2,error:3,none:4},r=i.info;function o(){var t;r>i.warn||(t=console).warn.apply(t,arguments)}},2024:function(t,e,n){n.d(e,{Cf:function(){return u},IH:function(){return r},U1:function(){return a},bA:function(){return s},fS:function(){return o}});var i=n(6889);function r(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function o(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function a(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function s(t,e){return t[0]*=e,t[1]*=e,t}function u(t,e){if(e.canWrapX()){var n=(0,i.dz)(e.getExtent()),r=function(t,e,n){var r=e.getExtent(),o=0;e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||(0,i.dz)(r),o=Math.floor((t[0]-r[0])/n));return o}(t,e,n);r&&(t[0]-=r*n)}return t}},1408:function(t,e,n){n.d(e,{$H:function(){return a},E4:function(){return r},ZF:function(){return s},ep:function(){return u},hF:function(){return l},jy:function(){return o}});var i=n(7288);function r(t,e,n,r){var o;return o=n&&n.length?n.shift():i.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(o.width=t),e&&(o.height=e),o.getContext("2d",r)}function o(t){var e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function a(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function u(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function l(t,e){for(var n=t.childNodes,i=0;;++i){var r=n[i],o=e[i];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--i):t.appendChild(o))}}},9868:function(t,e,n){function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}n.d(e,{GE:function(){return a},Vv:function(){return r},YQ:function(){return i},rd:function(){return o}})},923:function(t,e,n){n.d(e,{Vx:function(){return o},bN:function(){return a},oL:function(){return r}});var i=n(6841);function r(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function o(t,e,n,i){return r(t,e,n,i,!0)}function a(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,i.Z)(t))}},5326:function(t,e,n){var i=n(5671),r=n(3144),o=function(){function t(e){(0,i.Z)(this,t),this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return(0,r.Z)(t,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),t}();e.ZP=o},5947:function(t,e){e.Z={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},2064:function(t,e,n){var i=n(5671),r=n(3144),o=n(136),a=n(4062),s=n(5414),u=n(5326),l=n(6661),h=n(6841),c=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this)).eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return(0,r.Z)(n,[{key:"addEventListener",value:function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.includes(e)||i.push(e)}}},{key:"dispatchEvent",value:function(t){var e="string"===typeof t,n=e?t:t.type,i=this.listeners_&&this.listeners_[n];if(i){var r=e?new u.ZP(t):t;r.target||(r.target=this.eventTarget_||this);var o,a=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,s[n]=0),++a[n];for(var h=0,c=i.length;h<c;++h)if(!1===(o="handleEvent"in i[h]?i[h].handleEvent(r):i[h].call(this,r))||r.propagationStopped){o=!1;break}if(0===--a[n]){var d=s[n];for(delete s[n];d--;)this.removeEventListener(n,l.Zn);delete a[n]}return o}}},{key:"disposeInternal",value:function(){this.listeners_&&(0,h.Z)(this.listeners_)}},{key:"getListeners",value:function(t){return this.listeners_&&this.listeners_[t]||void 0}},{key:"hasListener",value:function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}},{key:"removeEventListener",value:function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=l.Zn,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}}}]),n}(s.Z);e.Z=c},6889:function(t,e,n){n.d(e,{Ne:function(){return j},hI:function(){return o},d9:function(){return a},qf:function(){return s},b8:function(){return u},r4:function(){return l},jE:function(){return h},lJ:function(){return d},T9:function(){return v},YN:function(){return f},HK:function(){return g},GN:function(){return y},fS:function(){return _},l7:function(){return p},Wj:function(){return m},qP:function(){return E},H6:function(){return Z},bg:function(){return C},hC:function(){return x},w$:function(){return T},qg:function(){return R},g0:function(){return w},p8:function(){return b},Cr:function(){return I},Ed:function(){return L},dY:function(){return P},rL:function(){return S},Xv:function(){return M},dz:function(){return O},kK:function(){return A},I7:function(){return D},xb:function(){return F},EO:function(){return N}});var i=n(885),r={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function o(t){for(var e=d(),n=0,i=t.length;n<i;++n)m(e,t[n]);return e}function a(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function s(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function u(t,e){return h(t,e[0],e[1])}function l(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function h(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function c(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=r.UNKNOWN;return s<n?l|=r.LEFT:s>o&&(l|=r.RIGHT),u<i?l|=r.BELOW:u>a&&(l|=r.ABOVE),l===r.UNKNOWN&&(l=r.INTERSECTING),l}function d(){return[1/0,1/0,-1/0,-1/0]}function v(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function f(t){return v(1/0,1/0,-1/0,-1/0,t)}function g(t,e){var n=t[0],i=t[1];return v(n,i,n,i,e)}function y(t,e,n,i,r){return E(f(r),t,e,n,i)}function _(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function p(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function m(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e,n,i,r){for(;n<i;n+=r)k(t,e[n],e[n+1]);return t}function k(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Z(t,e){var n;return(n=e(x(t)))||(n=e(T(t)))||(n=e(M(t)))?n:(n=e(S(t)))||!1}function C(t){var e=0;return F(t)||(e=O(t)*I(t)),e}function x(t){return[t[0],t[1]]}function T(t){return[t[2],t[1]]}function R(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function w(t,e){var n;if("bottom-left"===e)n=x(t);else if("bottom-right"===e)n=T(t);else if("top-left"===e)n=S(t);else{if("top-right"!==e)throw new Error("Invalid corner");n=M(t)}return n}function b(t,e,n,r,o){var a=P(t,e,n,r),s=(0,i.Z)(a,8),u=s[0],l=s[1],h=s[2],c=s[3],d=s[4],f=s[5],g=s[6],y=s[7];return v(Math.min(u,h,d,g),Math.min(l,c,f,y),Math.max(u,h,d,g),Math.max(l,c,f,y),o)}function P(t,e,n,i){var r=e*i[0]/2,o=e*i[1]/2,a=Math.cos(n),s=Math.sin(n),u=r*a,l=r*s,h=o*a,c=o*s,d=t[0],v=t[1];return[d-u+c,v-l-h,d-u-c,v-l+h,d+u-c,v+l+h,d+u+c,v+l-h,d-u+c,v-l-h]}function I(t){return t[3]-t[1]}function L(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return A(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):f(i),i}function S(t){return[t[0],t[3]]}function M(t){return[t[2],t[3]]}function O(t){return t[2]-t[0]}function A(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function F(t){return t[2]<t[0]||t[3]<t[1]}function N(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function D(t,e,n){var i=!1,o=c(t,e),a=c(t,n);if(o===r.INTERSECTING||a===r.INTERSECTING)i=!0;else{var s,u,l=t[0],h=t[1],d=t[2],v=t[3],f=e[0],g=e[1],y=n[0],_=n[1],p=(_-g)/(y-f);a&r.ABOVE&&!(o&r.ABOVE)&&(i=(s=y-(_-v)/p)>=l&&s<=d),i||!(a&r.RIGHT)||o&r.RIGHT||(i=(u=_-(y-d)*p)>=h&&u<=v),i||!(a&r.BELOW)||o&r.BELOW||(i=(s=y-(_-h)/p)>=l&&s<=d),i||!(a&r.LEFT)||o&r.LEFT||(i=(u=_-(y-l)*p)>=h&&u<=v)}return i}function j(t,e,n,i){if(F(t))return f(n);var r=[];if(i>1)for(var o=t[2]-t[0],a=t[3]-t[1],s=0;s<i;++s)r.push(t[0]+o*s/i,t[1],t[2],t[1]+a*s/i,t[2]-o*s/i,t[3],t[0],t[3]-a*s/i);else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);for(var u=[],l=[],h=0,c=r.length;h<c;h+=2)u.push(r[h]),l.push(r[h+1]);return function(t,e,n){return v(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(u,l,n)}},6661:function(t,e,n){n.d(e,{Dv:function(){return o},Zn:function(){return a},qe:function(){return s},uX:function(){return r}});var i=n(7678);function r(){return!0}function o(){return!1}function a(){}function s(t){var e,n,r,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===r&&(0,i.fS)(a,n)||(o=!0,r=this,n=a,e=t.apply(this,arguments)),e}}},3548:function(t,e,n){n.d(e,{ZP:function(){return Y},oJ:function(){return q}});var i=n(5671),r=n(3144),o=n(136),a=n(4062),s=n(5957),u=n(6006),l=n(6108),h=n(6889),c=n(724),d=n(6661);var v=(0,l.Ue)(),f=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;return(0,i.Z)(this,n),(t=e.call(this)).layout="XY",t.stride=2,t.flatCoordinates=null,t}return(0,r.Z)(n,[{key:"computeExtent",value:function(t){return(0,h.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}},{key:"getCoordinates",value:function(){return(0,u.O3)()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}},{key:"getSimplifiedGeometryInternal",value:function(t){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(t,e){this.stride=g(t),this.layout=t,this.flatCoordinates=e}},{key:"setCoordinates",value:function(t,e){(0,u.O3)()}},{key:"setLayout",value:function(t,e,n){var i;if(t)i=g(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM");return e}(i=e.length)}this.layout=t,this.stride=i}},{key:"applyTransform",value:function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}},{key:"rotate",value:function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,o,a){a=a||[];for(var s=Math.cos(r),u=Math.sin(r),l=o[0],h=o[1],c=0,d=e;d<n;d+=i){var v=t[d]-l,f=t[d+1]-h;a[c++]=l+v*s-f*u,a[c++]=h+v*u+f*s;for(var g=d+2;g<d+i;++g)a[c++]=t[g]}a&&a.length!=c&&(a.length=c)}(n,0,n.length,i,t,e,n),this.changed()}}},{key:"scale",value:function(t,e,n){void 0===e&&(e=t),n||(n=(0,h.qg)(this.getExtent()));var i=this.getFlatCoordinates();if(i){var r=this.getStride();!function(t,e,n,i,r,o,a,s){s=s||[];for(var u=a[0],l=a[1],h=0,c=e;c<n;c+=i){var d=t[c]-u,v=t[c+1]-l;s[h++]=u+r*d,s[h++]=l+o*v;for(var f=c+2;f<c+i;++f)s[h++]=t[f]}s&&s.length!=h&&(s.length=h)}(i,0,i.length,r,t,e,n,i),this.changed()}}},{key:"translate",value:function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,o,a){a=a||[];for(var s=0,u=e;u<n;u+=i){a[s++]=t[u]+r,a[s++]=t[u+1]+o;for(var l=u+2;l<u+i;++l)a[s++]=t[l]}a&&a.length!=s&&(a.length=s)}(n,0,n.length,i,t,e,n),this.changed()}}}]),n}(function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;return(0,i.Z)(this,n),(t=e.call(this)).extent_=(0,h.lJ)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=(0,d.qe)((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)})),t}return(0,r.Z)(n,[{key:"simplifyTransformed",value:function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}},{key:"clone",value:function(){return(0,u.O3)()}},{key:"closestPointXY",value:function(t,e,n,i){return(0,u.O3)()}},{key:"containsXY",value:function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}},{key:"getClosestPoint",value:function(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}},{key:"intersectsCoordinate",value:function(t){return this.containsXY(t[0],t[1])}},{key:"computeExtent",value:function(t){return(0,u.O3)()}},{key:"getExtent",value:function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,h.YN)(e),this.extentRevision_=this.getRevision()}return(0,h.EO)(this.extent_,t)}},{key:"rotate",value:function(t,e){(0,u.O3)()}},{key:"scale",value:function(t,e,n){(0,u.O3)()}},{key:"simplify",value:function(t){return this.getSimplifiedGeometry(t*t)}},{key:"getSimplifiedGeometry",value:function(t){return(0,u.O3)()}},{key:"getType",value:function(){return(0,u.O3)()}},{key:"applyTransform",value:function(t){(0,u.O3)()}},{key:"intersectsExtent",value:function(t){return(0,u.O3)()}},{key:"translate",value:function(t,e){(0,u.O3)()}},{key:"transform",value:function(t,e){var n=(0,c.U2)(t),i="tile-pixels"==n.getUnits()?function(t,i,r){var o=n.getExtent(),a=n.getWorldExtent(),s=(0,h.Cr)(a)/(0,h.Cr)(o);return(0,l.qC)(v,a[0],a[3],s,-s,0,0,0),function(t,e,n,i,r,o){o=o||[];for(var a=0,s=e;s<n;s+=i){var u=t[s],l=t[s+1];o[a++]=r[0]*u+r[2]*l+r[4],o[a++]=r[1]*u+r[3]*l+r[5]}o&&o.length!=a&&(o.length=a)}(t,0,t.length,r,v,i),(0,c.Ck)(n,e)(t,i,r)}:(0,c.Ck)(n,e);return this.applyTransform(i),this}}]),n}(s.Z));function g(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}var y=f,_=n(2357);function p(t,e,n,i,r,o,a){var s,u=t[e],l=t[e+1],h=t[n]-u,c=t[n+1]-l;if(0===h&&0===c)s=e;else{var d=((r-u)*h+(o-l)*c)/(h*h+c*c);if(d>1)s=n;else{if(d>0){for(var v=0;v<i;++v)a[v]=(0,_.t7)(t[e+v],t[n+v],d);return void(a.length=i)}s=e}}for(var f=0;f<i;++f)a[f]=t[s+f];a.length=i}function m(t,e,n,i,r){var o=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],u=t[e+1],l=(0,_.bI)(o,a,s,u);l>r&&(r=l),o=s,a=u}return r}function E(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o];r=m(t,e,s,i,r),e=s}return r}function k(t,e,n,i,r,o,a,s,u,l,h){if(e==n)return l;var c,d;if(0===r){if((d=(0,_.bI)(a,s,t[e],t[e+1]))<l){for(c=0;c<i;++c)u[c]=t[e+c];return u.length=i,d}return l}h=h||[NaN,NaN];for(var v=e+i;v<n;)if(p(t,v-i,v,i,a,s,h),(d=(0,_.bI)(a,s,h[0],h[1]))<l){for(l=d,c=0;c<i;++c)u[c]=h[c];u.length=i,v+=i}else v+=i*Math.max((Math.sqrt(d)-Math.sqrt(l))/r|0,1);if(o&&(p(t,n-i,e,i,a,s,h),(d=(0,_.bI)(a,s,h[0],h[1]))<l)){for(l=d,c=0;c<i;++c)u[c]=h[c];u.length=i}return l}function Z(t,e,n,i,r,o,a,s,u,l,h){h=h||[NaN,NaN];for(var c=0,d=n.length;c<d;++c){var v=n[c];l=k(t,e,v,i,r,o,a,s,u,l,h),e=v}return l}function C(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var a=n[r],s=0;s<i;++s)t[e++]=a[s];return e}function x(t,e,n,i,r){r=r||[];for(var o=0,a=0,s=n.length;a<s;++a){var u=C(t,e,n[a],i);r[o++]=u,e=u}return r.length=o,r}function T(t,e,n,i,r,o,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)o[a++]=t[e],o[a++]=t[e+1];return a}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[e,n-i],h=0;l.length>0;){for(var c=l.pop(),d=l.pop(),v=0,f=t[d],g=t[d+1],y=t[c],p=t[c+1],m=d+i;m<c;m+=i){var E=t[m],k=t[m+1],Z=(0,_.rU)(E,k,f,g,y,p);Z>v&&(h=m,v=Z)}v>r&&(u[(h-e)/i]=1,d+i<h&&l.push(d,h),h+i<c&&l.push(h,c))}for(var C=0;C<s;++C)u[C]&&(o[a++]=t[e+C*i],o[a++]=t[e+C*i+1]);return a}function R(t,e){return e*Math.round(t/e)}function w(t,e,n,i,r,o,a){if(e==n)return a;var s,u,l=R(t[e],r),h=R(t[e+1],r);e+=i,o[a++]=l,o[a++]=h;do{if(s=R(t[e],r),u=R(t[e+1],r),(e+=i)==n)return o[a++]=s,o[a++]=u,a}while(s==l&&u==h);for(;e<n;){var c=R(t[e],r),d=R(t[e+1],r);if(e+=i,c!=s||d!=u){var v=s-l,f=u-h,g=c-l,y=d-h;v*y==f*g&&(v<0&&g<v||v==g||v>0&&g>v)&&(f<0&&y<f||f==y||f>0&&y>f)?(s=c,u=d):(o[a++]=s,o[a++]=u,l=s,h=u,s=c,u=d)}}return o[a++]=s,o[a++]=u,a}function b(t,e,n,i,r,o,a,s){for(var u=0,l=n.length;u<l;++u){var h=n[u];a=w(t,e,h,i,r,o,a),s.push(a),e=h}return a}function P(t,e,n,i,r){r=void 0!==r?r:[];for(var o=0,a=e;a<n;a+=i)r[o++]=t.slice(a,a+i);return r.length=o,r}function I(t,e,n,i,r){r=void 0!==r?r:[];for(var o=0,a=0,s=n.length;a<s;++a){var u=n[a];r[o++]=P(t,e,u,i,r[o]),e=u}return r.length=o,r}function L(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],u=t[e+1];r+=a*s-o*u,o=s,a=u}return r/2}function S(t,e,n,i){for(var r=0,o=0,a=n.length;o<a;++o){var s=n[o];r+=L(t,e,s,i),e=s}return r}var M=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,r){var o;return(0,i.Z)(this,n),(o=e.call(this)).maxDelta_=-1,o.maxDeltaRevision_=-1,void 0===r||Array.isArray(t[0])?o.setCoordinates(t,r):o.setFlatCoordinates(r,t),o}return(0,r.Z)(n,[{key:"clone",value:function(){return new n(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(t,e,n,i){return i<(0,h.qf)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(m(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),k(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))}},{key:"getArea",value:function(){return L(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return P(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(t){var e=[];return e.length=T(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new n(e,"XY")}},{key:"getType",value:function(){return"LinearRing"}},{key:"intersectsExtent",value:function(t){return!1}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=C(this.flatCoordinates,0,t,this.stride),this.changed()}}]),n}(y),O=M,A=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,r){var o;return(0,i.Z)(this,n),(o=e.call(this)).setCoordinates(t,r),o}return(0,r.Z)(n,[{key:"clone",value:function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,n,i){var r=this.flatCoordinates,o=(0,_.bI)(t,e,r[0],r[1]);if(o<i){for(var a=this.stride,s=0;s<a;++s)n[s]=r[s];return n.length=a,o}return i}},{key:"getCoordinates",value:function(){return this.flatCoordinates?this.flatCoordinates.slice():[]}},{key:"computeExtent",value:function(t){return(0,h.HK)(this.flatCoordinates,t)}},{key:"getType",value:function(){return"Point"}},{key:"intersectsExtent",value:function(t){return(0,h.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}(this.flatCoordinates,0,t,this.stride),this.changed()}}]),n}(y),F=A,N=n(7678),D=n(7756);function j(t,e,n,i,r,o,a){for(var s,u,l,h,c,d,v,f=r[o+1],g=[],y=0,_=n.length;y<_;++y){var p=n[y];for(h=t[p-i],d=t[p-i+1],s=e;s<p;s+=i)c=t[s],v=t[s+1],(f<=d&&v<=f||d<=f&&f<=v)&&(l=(f-d)/(v-d)*(c-h)+h,g.push(l)),h=c,d=v}var m=NaN,E=-1/0;for(g.sort(N.j2),h=g[0],s=1,u=g.length;s<u;++s){c=g[s];var k=Math.abs(c-h);k>E&&(l=(h+c)/2,(0,D.wY)(t,e,n,i,l,f)&&(m=l,E=k)),h=c}return isNaN(m)&&(m=r[o]),a?(a.push(m,f,E),a):[m,f,E]}var z=n(6394);function G(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function K(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],u=t[e+1];r+=(s-o)*(u+a),o=s,a=u}return 0===r?void 0:r>0}function U(t,e,n,i,r){r=void 0!==r&&r;for(var o=0,a=n.length;o<a;++o){var s=n[o],u=K(t,e,s,i);if(0===o){if(r&&u||!r&&!u)return!1}else if(r&&!u||!r&&u)return!1;e=s}return!0}function V(t,e,n,i,r){r=void 0!==r&&r;for(var o=0,a=n.length;o<a;++o){var s=n[o],u=K(t,e,s,i);(0===o?r&&u||!r&&!u:r&&!u||!r&&u)&&G(t,e,s,i),e=s}return e}var X=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,r,o){var a;return(0,i.Z)(this,n),(a=e.call(this)).ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==r&&o?(a.setFlatCoordinates(r,t),a.ends_=o):a.setCoordinates(t,r),a}return(0,r.Z)(n,[{key:"appendLinearRing",value:function(t){this.flatCoordinates?(0,N.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var t=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,n,i){return i<(0,h.qf)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(E(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Z(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))}},{key:"containsXY",value:function(t,e){return(0,D.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}},{key:"getArea",value:function(){return S(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(t){var e;return void 0!==t?V(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,I(e,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,h.qg)(this.getExtent());this.flatInteriorPoint_=j(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new F(this.getFlatInteriorPoint(),"XYM")}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(t){return t<0||this.ends_.length<=t?null:new O(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}},{key:"getLinearRings",value:function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o],u=new O(e.slice(r,s),t);i.push(u),r=s}return i}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;U(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=V(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(t){var e=[],i=[];return e.length=b(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new n(e,"XY",i)}},{key:"getType",value:function(){return"Polygon"}},{key:"intersectsExtent",value:function(t){return(0,z.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=x(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),n}(y),Y=X;function q(t){if((0,h.xb)(t))throw new Error("Cannot create polygon from empty extent");var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new X(o,"XY",[o.length])}},7756:function(t,e,n){n.d(e,{TG:function(){return o},uG:function(){return r},wY:function(){return a}});var i=n(6889);function r(t,e,n,r,a){return!(0,i.H6)(a,(function(i){return!o(t,e,n,r,i[0],i[1])}))}function o(t,e,n,i,r,o){for(var a=0,s=t[n-i],u=t[n-i+1];e<n;e+=i){var l=t[e],h=t[e+1];u<=o?h>o&&(l-s)*(o-u)-(r-s)*(h-u)>0&&a++:h<=o&&(l-s)*(o-u)-(r-s)*(h-u)<0&&a--,s=l,u=h}return 0!==a}function a(t,e,n,i,r,a){if(0===n.length)return!1;if(!o(t,e,n[0],i,r,a))return!1;for(var s=1,u=n.length;s<u;++s)if(o(t,n[s-1],n[s],i,r,a))return!1;return!0}},6394:function(t,e,n){n.d(e,{mV:function(){return a},ac:function(){return s}});var i=n(6889);var r=n(7756);function o(t,e,n,r,o){var a=(0,i.qP)((0,i.lJ)(),t,e,n,r);return!!(0,i.kK)(o,a)&&(!!(0,i.r4)(o,a)||(a[0]>=o[0]&&a[2]<=o[2]||(a[1]>=o[1]&&a[3]<=o[3]||function(t,e,n,i,r){var o;for(e+=i;e<n;e+=i)if(o=r(t.slice(e-i,e),t.slice(e,e+i)))return o;return!1}(t,e,n,r,(function(t,e){return(0,i.I7)(o,t,e)})))))}function a(t,e,n,i,a){return!!o(t,e,n,i,a)||(!!(0,r.TG)(t,e,n,i,a[0],a[1])||(!!(0,r.TG)(t,e,n,i,a[0],a[3])||(!!(0,r.TG)(t,e,n,i,a[2],a[1])||!!(0,r.TG)(t,e,n,i,a[2],a[3]))))}function s(t,e,n,i,s){if(!a(t,e,n[0],i,s))return!1;if(1===n.length)return!0;for(var u=1,l=n.length;u<l;++u)if((0,r.uG)(t,n[u-1],n[u],i,s)&&!o(t,n[u-1],n[u],i,s))return!1;return!0}},7288:function(t,e,n){n.d(e,{G$:function(){return o},Id:function(){return u},MP:function(){return s},Tp:function(){return l},V:function(){return r},bM:function(){return h},tK:function(){return a}});var i="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",r=i.includes("firefox"),o=(i.includes("safari")&&!i.includes("chrom")&&(i.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(i)),i.includes("webkit")&&!i.includes("edge")),a=i.includes("macintosh"),s="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,u="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,l="undefined"!==typeof Image&&Image.prototype.decode,h=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}()},3976:function(t,e,n){var i=n(5671),r=n(3144),o=n(1752),a=n(1120),s=n(136),u=n(4062),l=n(5957),h=n(5728),c=n(6006),d=n(6862),v=n(2357),f=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t){var r;(0,i.Z)(this,n),(r=e.call(this)).on,r.once,r.un,r.background_=t.background;var o=Object.assign({},t);return"object"===typeof t.properties&&(delete o.properties,Object.assign(o,t.properties)),o[h.Z.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,d.h)("number"===typeof o[h.Z.OPACITY],"Layer opacity must be a number"),o[h.Z.VISIBLE]=void 0===t.visible||t.visible,o[h.Z.Z_INDEX]=t.zIndex,o[h.Z.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,o[h.Z.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,o[h.Z.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,o[h.Z.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,r.className_=void 0!==o.className?o.className:"ol-layer",delete o.className,r.setProperties(o),r.state_=null,r}return(0,r.Z)(n,[{key:"getBackground",value:function(){return this.background_}},{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,v.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}},{key:"getLayersArray",value:function(t){return(0,c.O3)()}},{key:"getLayerStatesArray",value:function(t){return(0,c.O3)()}},{key:"getExtent",value:function(){return this.get(h.Z.EXTENT)}},{key:"getMaxResolution",value:function(){return this.get(h.Z.MAX_RESOLUTION)}},{key:"getMinResolution",value:function(){return this.get(h.Z.MIN_RESOLUTION)}},{key:"getMinZoom",value:function(){return this.get(h.Z.MIN_ZOOM)}},{key:"getMaxZoom",value:function(){return this.get(h.Z.MAX_ZOOM)}},{key:"getOpacity",value:function(){return this.get(h.Z.OPACITY)}},{key:"getSourceState",value:function(){return(0,c.O3)()}},{key:"getVisible",value:function(){return this.get(h.Z.VISIBLE)}},{key:"getZIndex",value:function(){return this.get(h.Z.Z_INDEX)}},{key:"setBackground",value:function(t){this.background_=t,this.changed()}},{key:"setExtent",value:function(t){this.set(h.Z.EXTENT,t)}},{key:"setMaxResolution",value:function(t){this.set(h.Z.MAX_RESOLUTION,t)}},{key:"setMinResolution",value:function(t){this.set(h.Z.MIN_RESOLUTION,t)}},{key:"setMaxZoom",value:function(t){this.set(h.Z.MAX_ZOOM,t)}},{key:"setMinZoom",value:function(t){this.set(h.Z.MIN_ZOOM,t)}},{key:"setOpacity",value:function(t){(0,d.h)("number"===typeof t,"Layer opacity must be a number"),this.set(h.Z.OPACITY,t)}},{key:"setVisible",value:function(t){this.set(h.Z.VISIBLE,t)}},{key:"setZIndex",value:function(t){this.set(h.Z.Z_INDEX,t)}},{key:"disposeInternal",value:function(){this.state_&&(this.state_.layer=null,this.state_=null),(0,o.Z)((0,a.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(l.Z);e.Z=f},4101:function(t,e,n){n.d(e,{j:function(){return p}});var i=n(5671),r=n(3144),o=n(1752),a=n(1120),s=n(136),u=n(4062),l=n(3976),h=n(5947),c=n(5728),d=n(6875),v=n(430),f=n(6862),g=n(6889),y=n(923),_=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t){var r;(0,i.Z)(this,n);var o=Object.assign({},t);delete o.source,(r=e.call(this,o)).on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.sourceReady_=!1,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(c.Z.SOURCE,r.handleSourcePropertyChange_);var a=t.source?t.source:null;return r.setSource(a),r}return(0,r.Z)(n,[{key:"getLayersArray",value:function(t){return(t=t||[]).push(this),t}},{key:"getLayerStatesArray",value:function(t){return(t=t||[]).push(this.getLayerState()),t}},{key:"getSource",value:function(){return this.get(c.Z.SOURCE)||null}},{key:"getRenderSource",value:function(){return this.getSource()}},{key:"getSourceState",value:function(){var t=this.getSource();return t?t.getState():"undefined"}},{key:"handleSourceChange_",value:function(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}},{key:"handleSourcePropertyChange_",value:function(){var t=this;this.sourceChangeKey_&&((0,y.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;var e=this.getSource();e&&(this.sourceChangeKey_=(0,y.oL)(e,h.Z.CHANGE,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout((function(){t.dispatchEvent("sourceready")}),0))),this.changed()}},{key:"getFeatures",value:function(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}},{key:"getData",value:function(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}},{key:"isVisible",value:function(t){var e,n,i=this,r=this.getMapInternal();!t&&r&&(t=r.getView()),!(e=t instanceof v.ZP?{viewState:t.getState(),extent:t.calculateExtent()}:t).layerStatesArray&&r&&(e.layerStatesArray=r.getLayerGroup().getLayerStatesArray()),n=e.layerStatesArray?e.layerStatesArray.find((function(t){return t.layer===i})):this.getLayerState();var o=this.getExtent();return p(n,e.viewState)&&(!o||(0,g.kK)(o,e.extent))}},{key:"getAttributions",value:function(t){if(!this.isVisible(t))return[];var e,n=this.getSource();if(n&&(e=n.getAttributions()),!e)return[];var i=e(t instanceof v.ZP?t.getViewStateAndExtent():t);return Array.isArray(i)||(i=[i]),i}},{key:"render",value:function(t,e){var n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}},{key:"unrender",value:function(){this.rendered=!1}},{key:"setMapInternal",value:function(t){t||this.unrender(),this.set(c.Z.MAP,t)}},{key:"getMapInternal",value:function(){return this.get(c.Z.MAP)}},{key:"setMap",value:function(t){this.mapPrecomposeKey_&&((0,y.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,y.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,y.oL)(t,d.Z.PRECOMPOSE,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,f.h)(!e.some((function(t){return t.layer===n.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(n)}),this),this.mapRenderKey_=(0,y.oL)(this,h.Z.CHANGE,t.render,t),this.changed())}},{key:"setSource",value:function(t){this.set(c.Z.SOURCE,t)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"disposeInternal",value:function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),(0,o.Z)((0,a.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(l.Z);function p(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}e.Z=_},5728:function(t,e){e.Z={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},2349:function(t,e,n){n.d(e,{Z:function(){return N}});var i=n(5671),r=n(3144),o=n(136),a=n(4062),s=n(1752),u=n(1120),l=n(4101),h="preload",c="useInterimTilesOnError",d=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var r;(0,i.Z)(this,n),t=t||{};var o=Object.assign({},t);return delete o.preload,delete o.useInterimTilesOnError,(r=e.call(this,o)).on,r.once,r.un,r.setPreload(void 0!==t.preload?t.preload:0),r.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),r}return(0,r.Z)(n,[{key:"getPreload",value:function(){return this.get(h)}},{key:"setPreload",value:function(t){this.set(h,t)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(c)}},{key:"setUseInterimTilesOnError",value:function(t){this.set(c,t)}},{key:"getData",value:function(t){return(0,s.Z)((0,u.Z)(n.prototype),"getData",this).call(this,t)}}]),n}(l.Z),v=n(7326),f=n(5947),g=0,y=2,_=3,p=n(5201),m=n(6006),E=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this)).ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind((0,v.Z)(r)),r.layer_=t,r.declutterExecutorGroup=null,r}return(0,r.Z)(n,[{key:"getFeatures",value:function(t){return(0,m.O3)()}},{key:"getData",value:function(t){return null}},{key:"prepareFrame",value:function(t){return(0,m.O3)()}},{key:"renderFrame",value:function(t,e){return(0,m.O3)()}},{key:"loadedTileCallback",value:function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}},{key:"createLoadedTileFinder",value:function(t,e,n){var i=this;return function(r,o){var a=i.loadedTileCallback.bind(i,n,r);return t.forEachLoadedTile(e,r,o,a)}}},{key:"forEachFeatureAtCoordinate",value:function(t,e,n,i,r){}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(t){var e=t.target;e.getState()!==y&&e.getState()!==_||this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(t){var e=t.getState();return e!=y&&e!=_&&t.addEventListener(f.Z.CHANGE,this.boundHandleImageChange_),e==g&&(t.load(),e=t.getState()),e==y}},{key:"renderIfReadyAndVisible",value:function(){var t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}},{key:"disposeInternal",value:function(){delete this.layer_,(0,s.Z)((0,u.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(p.Z),k=n(3384),Z=n(6875),C=n(6108),x=n(6838),T=n(1408),R=n(7678),w=n(6889),b=null;var P=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this,t)).container=null,r.renderedResolution,r.tempTransform=(0,C.Ue)(),r.pixelTransform=(0,C.Ue)(),r.inversePixelTransform=(0,C.Ue)(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return(0,r.Z)(n,[{key:"getImageData",value:function(t,e,n){var i;b||(b=(0,T.E4)(1,1,void 0,{willReadFrequently:!0})),b.clearRect(0,0,1,1);try{b.drawImage(t,e,n,1,1,0,0,1,1),i=b.getImageData(0,0,1,1).data}catch(r){return b=null,null}return i}},{key:"getBackground",value:function(t){var e=this.getLayer().getBackground();return"function"===typeof e&&(e=e(t.viewState.resolution)),e||void 0}},{key:"useContainer",value:function(t,e,n){var i,r,o=this.getLayer().getClassName();if(t&&t.className===o&&(!n||t&&t.style.backgroundColor&&(0,R.fS)((0,x._2)(t.style.backgroundColor),(0,x._2)(n)))){var a=t.firstElementChild;a instanceof HTMLCanvasElement&&(r=a.getContext("2d"))}if(r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){(i=document.createElement("div")).className=o;var s=i.style;s.position="absolute",s.width="100%",s.height="100%";var u=(r=(0,T.E4)()).canvas;i.appendChild(u),(s=u.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=i,this.context=r}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}},{key:"clipUnrotated",value:function(t,e,n){var i=(0,w.rL)(n),r=(0,w.Xv)(n),o=(0,w.w$)(n),a=(0,w.hC)(n);(0,C.nn)(e.coordinateToPixelTransform,i),(0,C.nn)(e.coordinateToPixelTransform,r),(0,C.nn)(e.coordinateToPixelTransform,o),(0,C.nn)(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;(0,C.nn)(s,i),(0,C.nn)(s,r),(0,C.nn)(s,o),(0,C.nn)(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()}},{key:"dispatchRenderEvent_",value:function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var r=new k.Z(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}}},{key:"preRender",value:function(t,e){this.frameState=e,this.dispatchRenderEvent_(Z.Z.PRERENDER,t,e)}},{key:"postRender",value:function(t,e){this.dispatchRenderEvent_(Z.Z.POSTRENDER,t,e)}},{key:"getRenderTransform",value:function(t,e,n,i,r,o,a){var s=r/2,u=o/2,l=i/e,h=-l,c=-t[0]+a,d=-t[1];return(0,C.qC)(this.tempTransform,s,u,l,h,-n,c,d)}},{key:"disposeInternal",value:function(){delete this.frameState,(0,s.Z)((0,u.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(E),I=n(8465),L=n(1696),S=n(7805),M=n(5128),O=n(724),A=n(4046),F=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this,t)).extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=(0,w.lJ)(),r.tmpTileRange_=new S.Z(0,0,0,0),r}return(0,r.Z)(n,[{key:"isDrawableTile",value:function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==M.Z.LOADED||n==M.Z.EMPTY||n==M.Z.ERROR&&!i}},{key:"getTile",value:function(t,e,n,i){var r=i.pixelRatio,o=i.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,r,o);return s.getState()==M.Z.ERROR&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(s)||(s=s.getInterimTile()),s}},{key:"getData",value:function(t){var e=this.frameState;if(!e)return null;var n=this.getLayer(),i=(0,C.nn)(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!(0,w.b8)(r,i))return null;for(var o=e.pixelRatio,a=e.viewState.projection,s=e.viewState,u=n.getRenderSource(),l=u.getTileGridForProjection(s.projection),h=u.getTilePixelRatio(e.pixelRatio),c=l.getZForResolution(s.resolution);c>=l.getMinZoom();--c){var d=l.getTileCoordForCoordAndZ(i,c),v=u.getTile(c,d[1],d[2],o,a);if(!(v instanceof I.Z||v instanceof L.Z)||v instanceof L.Z&&v.getState()===M.Z.EMPTY)return null;if(v.getState()===M.Z.LOADED){var f=l.getOrigin(c),g=(0,A.Pq)(l.getTileSize(c)),y=l.getResolution(c),_=Math.floor(h*((i[0]-f[0])/y-d[1]*g[0])),p=Math.floor(h*((f[1]-i[1])/y-d[2]*g[1])),m=Math.round(h*u.getGutterForProjection(s.projection));return this.getImageData(v.getImage(),_+m,p+m)}}return null}},{key:"loadedTileCallback",value:function(t,e,i){return!!this.isDrawableTile(i)&&(0,s.Z)((0,u.Z)(n.prototype),"loadedTileCallback",this).call(this,t,e,i)}},{key:"prepareFrame",value:function(t){return!!this.getLayer().getSource()}},{key:"renderFrame",value:function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,o=i.resolution,a=i.center,s=i.rotation,u=t.pixelRatio,l=this.getLayer(),h=l.getSource(),c=h.getRevision(),d=h.getTileGridForProjection(r),v=d.getZForResolution(o,h.zDirection),f=d.getResolution(v),g=t.extent,y=t.viewState.resolution,_=h.getTilePixelRatio(u),p=Math.round((0,w.dz)(g)/y*u),E=Math.round((0,w.Cr)(g)/y*u),k=n.extent&&(0,O.dY)(n.extent,r);k&&(g=(0,w.Ed)(g,(0,O.dY)(n.extent,r)));var Z=f*p/2/_,x=f*E/2/_,T=[a[0]-Z,a[1]-x,a[0]+Z,a[1]+x],b=d.getTileRangeForExtentAndZ(g,v),P={};P[v]={};var I=this.createLoadedTileFinder(h,r,P),L=this.tmpExtent,S=this.tmpTileRange_;this.newTiles_=!1;for(var A=s?(0,w.dY)(i.center,y,s,t.size):void 0,F=b.minX;F<=b.maxX;++F)for(var N=b.minY;N<=b.maxY;++N)if(!s||d.tileCoordIntersectsViewport([v,F,N],A)){var D=this.getTile(v,F,N,t);if(this.isDrawableTile(D)){var j=(0,m.sq)(this);if(D.getState()==M.Z.LOADED){P[v][D.tileCoord.toString()]=D;var z=D.inTransition(j);z&&1!==n.opacity&&(D.endTransition(j),z=!1),this.newTiles_||!z&&this.renderedTiles.includes(D)||(this.newTiles_=!0)}if(1===D.getAlpha(j,t.time))continue}var G=d.getTileCoordChildTileRange(D.tileCoord,S,L),K=!1;G&&(K=I(v+1,G)),K||d.forEachTileCoordParentTileRange(D.tileCoord,I,S,L)}var U=f/o*u/_;(0,C.qC)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/u,1/u,s,-p/2,-E/2);var V=(0,C.BB)(this.pixelTransform);this.useContainer(e,V,this.getBackground(t));var X=this.context,Y=X.canvas;(0,C.nb)(this.inversePixelTransform,this.pixelTransform),(0,C.qC)(this.tempTransform,p/2,E/2,U,U,0,-p/2,-E/2),Y.width!=p||Y.height!=E?(Y.width=p,Y.height=E):this.containerReused||X.clearRect(0,0,p,E),k&&this.clipUnrotated(X,t,k),h.getInterpolate()||(X.imageSmoothingEnabled=!1),this.preRender(X,t),this.renderedTiles.length=0;var q,W,H,B=Object.keys(P).map(Number);B.sort(R.j2),1!==n.opacity||this.containerReused&&!h.getOpaque(t.viewState.projection)?(q=[],W=[]):B=B.reverse();for(var Q=B.length-1;Q>=0;--Q){var $=B[Q],J=h.getTilePixelSize($,u,r),tt=d.getResolution($)/f,et=J[0]*tt*U,nt=J[1]*tt*U,it=d.getTileCoordForCoordAndZ((0,w.rL)(T),$),rt=d.getTileCoordExtent(it),ot=(0,C.nn)(this.tempTransform,[_*(rt[0]-T[0])/f,_*(T[3]-rt[3])/f]),at=_*h.getGutterForProjection(r),st=P[$];for(var ut in st){var lt=st[ut],ht=lt.tileCoord,ct=it[1]-ht[1],dt=Math.round(ot[0]-(ct-1)*et),vt=it[2]-ht[2],ft=Math.round(ot[1]-(vt-1)*nt),gt=Math.round(ot[0]-ct*et),yt=Math.round(ot[1]-vt*nt),_t=dt-gt,pt=ft-yt,mt=v===$,Et=mt&&1!==lt.getAlpha((0,m.sq)(this),t.time),kt=!1;if(!Et)if(q){H=[gt,yt,gt+_t,yt,gt+_t,yt+pt,gt,yt+pt];for(var Zt=0,Ct=q.length;Zt<Ct;++Zt)if(v!==$&&$<W[Zt]){var xt=q[Zt];(0,w.kK)([gt,yt,gt+_t,yt+pt],[xt[0],xt[3],xt[4],xt[7]])&&(kt||(X.save(),kt=!0),X.beginPath(),X.moveTo(H[0],H[1]),X.lineTo(H[2],H[3]),X.lineTo(H[4],H[5]),X.lineTo(H[6],H[7]),X.moveTo(xt[6],xt[7]),X.lineTo(xt[4],xt[5]),X.lineTo(xt[2],xt[3]),X.lineTo(xt[0],xt[1]),X.clip())}q.push(H),W.push($)}else X.clearRect(gt,yt,_t,pt);this.drawTileImage(lt,t,gt,yt,_t,pt,at,mt),q&&!Et?(kt&&X.restore(),this.renderedTiles.unshift(lt)):this.renderedTiles.push(lt),this.updateUsedTiles(t.usedTiles,h,lt)}}return this.renderedRevision=c,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!(0,w.fS)(this.renderedExtent_,T),this.renderedExtent_=T,this.renderedPixelRatio=u,this.renderedProjection=r,this.manageTilePyramid(t,h,d,u,r,g,v,l.getPreload()),this.scheduleExpireCache(t,h),this.postRender(X,t),n.extent&&X.restore(),X.imageSmoothingEnabled=!0,V!==Y.style.transform&&(Y.style.transform=V),this.container}},{key:"drawTileImage",value:function(t,e,n,i,r,o,a,s){var u=this.getTileImage(t);if(u){var l=(0,m.sq)(this),h=e.layerStatesArray[e.layerIndex],c=h.opacity*(s?t.getAlpha(l,e.time):1),d=c!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,n,i,r,o),d&&this.context.restore(),c!==h.opacity?e.animate=!0:s&&t.endTransition(l)}}},{key:"getImage",value:function(){var t=this.context;return t?t.canvas:null}},{key:"getTileImage",value:function(t){return t.getImage()}},{key:"scheduleExpireCache",value:function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=(0,m.sq)(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}}},{key:"updateUsedTiles",value:function(t,e,n){var i=(0,m.sq)(e);i in t||(t[i]={}),t[i][n.getKey()]=!0}},{key:"manageTilePyramid",value:function(t,e,n,i,r,o,a,s,u){var l=(0,m.sq)(e);l in t.wantedTiles||(t.wantedTiles[l]={});var h,c,d,v,f,g,y=t.wantedTiles[l],_=t.tileQueue,p=n.getMinZoom(),E=t.viewState.rotation,k=E?(0,w.dY)(t.viewState.center,t.viewState.resolution,E,t.size):void 0,Z=0;for(g=p;g<=a;++g)for(c=n.getTileRangeForExtentAndZ(o,g,c),d=n.getResolution(g),v=c.minX;v<=c.maxX;++v)for(f=c.minY;f<=c.maxY;++f)E&&!n.tileCoordIntersectsViewport([g,v,f],k)||(a-g<=s?(++Z,(h=e.getTile(g,v,f,i,r)).getState()==M.Z.IDLE&&(y[h.getKey()]=!0,_.isKeyQueued(h.getKey())||_.enqueue([h,l,n.getTileCoordCenter(h.tileCoord),d])),void 0!==u&&u(h)):e.useTile(g,v,f,r));e.updateCacheSize(Z,r)}}]),n}(P),N=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){return(0,i.Z)(this,n),e.call(this,t)}return(0,r.Z)(n,[{key:"createRenderer",value:function(){return new F(this)}}]),n}(d)},2357:function(t,e,n){function i(t,e,n){return Math.min(Math.max(t,e),n)}function r(t,e,n,i,r,a){var s=r-n,u=a-i;if(0!==s||0!==u){var l=((t-n)*s+(e-i)*u)/(s*s+u*u);l>1?(n=r,i=a):l>0&&(n+=s*l,i+=u*l)}return o(t,e,n,i)}function o(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function a(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>r&&(r=a,i=o)}if(0===r)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],h=n;h<e+1;h++)n==h?t[u][h]=0:t[u][h]+=l*t[n][h]}for(var c=new Array(e),d=e-1;d>=0;d--){c[d]=t[d][e]/t[d][d];for(var v=d-1;v>=0;v--)t[v][e]-=t[v][d]*c[d]}return c}function s(t){return t*Math.PI/180}function u(t,e){var n=t%e;return n*e<0?n+e:n}function l(t,e,n){return t+n*(e-t)}function h(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function c(t,e){return Math.floor(h(t,e))}function d(t,e){return Math.ceil(h(t,e))}n.d(e,{$W:function(){return u},GW:function(){return c},SV:function(){return a},Yr:function(){return s},bI:function(){return o},mD:function(){return d},rU:function(){return r},t7:function(){return l},uZ:function(){return i}})},6841:function(t,e,n){function i(t){for(var e in t)delete t[e]}function r(t){var e;for(e in t)return!1;return!e}n.d(e,{Z:function(){return i},x:function(){return r}})},724:function(t,e,n){n.d(e,{Wm:function(){return s},UQ:function(){return j},h_:function(){return S},OP:function(){return z},Vs:function(){return W},dY:function(){return B},U2:function(){return F},_Q:function(){return N},Ck:function(){return K},Cs:function(){return Y},lO:function(){return q},Fj:function(){return H},vs:function(){return U}});var i=n(3144),r=n(5671),o=n(136),a=n(4062);var s={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},u=function(){function t(e){(0,r.Z)(this,t),this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return(0,i.Z)(t,[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||s[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(t){this.defaultTileGrid_=t}},{key:"setExtent",value:function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}},{key:"setWorldExtent",value:function(t){this.worldExtent_=t}},{key:"setGetPointResolution",value:function(t){this.getPointResolutionFunc_=t}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}]),t}(),l=6378137,h=Math.PI*l,c=[-h,-h,h,h],d=[-180,-85,180,85],v=l*Math.log(Math.tan(Math.PI/2)),f=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){return(0,r.Z)(this,n),e.call(this,{code:t,units:"m",extent:c,global:!0,worldExtent:d,getPointResolution:function(t,e){return t/Math.cosh(e[1]/l)}})}return(0,i.Z)(n)}(u),g=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("http://www.opengis.net/def/crs/EPSG/0/3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];function y(t,e,n){var i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(var r=0;r<i;r+=n){e[r]=h*t[r]/180;var o=l*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));o>v?o=v:o<-v&&(o=-v),e[r+1]=o}return e}function _(t,e,n){var i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(var r=0;r<i;r+=n)e[r]=180*t[r]/h,e[r+1]=360*Math.atan(Math.exp(t[r+1]/l))/Math.PI-90;return e}var p=[-180,-90,180,90],m=6378137*Math.PI/180,E=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,i){return(0,r.Z)(this,n),e.call(this,{code:t,units:"degrees",extent:p,axisOrientation:i,global:!0,metersPerUnit:m,worldExtent:p})}return(0,i.Z)(n)}(u),k=[new E("CRS:84"),new E("EPSG:4326","neu"),new E("urn:ogc:def:crs:OGC:1.3:CRS84"),new E("urn:ogc:def:crs:OGC:2:84"),new E("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new E("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new E("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Z={};var C={};function x(t,e,n){var i=t.getCode(),r=e.getCode();i in C||(C[i]={}),C[i][r]=n}var T=n(6889),R=n(2024),w=n(2357),b=6371008.8;function P(t,e,n){n=n||b;var i=(0,w.Yr)(t[1]),r=(0,w.Yr)(e[1]),o=(r-i)/2,a=(0,w.Yr)(e[0]-t[0])/2,s=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))}var I=n(9972),L=!0;function S(t){L=!(void 0===t||t)}function M(t,e){if(void 0!==e)for(var n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function O(t,e){if(void 0!==e&&t!==e){for(var n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function A(t){!function(t,e){Z[t]=e}(t.getCode(),t),x(t,t,M)}function F(t){return"string"===typeof t?Z[e=t]||Z[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function N(t,e,n,i){var r,o=(t=F(t)).getPointResolutionFunc();if(o){if(r=o(e,n),i&&i!==t.getUnits()){var a=t.getMetersPerUnit();a&&(r=r*a/s[i])}}else{var u=t.getUnits();if("degrees"==u&&!i||"degrees"==i)r=e;else{var l=G(t,F("EPSG:4326"));if(l===O&&"degrees"!==u)r=e*t.getMetersPerUnit();else{var h=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];r=(P((h=l(h,h,2)).slice(0,2),h.slice(2,4))+P(h.slice(4,6),h.slice(6,8)))/2}var c=i?s[i]:t.getMetersPerUnit();void 0!==c&&(r/=c)}}return r}function D(t){!function(t){t.forEach(A)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&x(e,t,M)}))}))}function j(t,e){return t?"string"===typeof t?F(t):t:F(e)}function z(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||G(t,e)===M)&&n}function G(t,e){var n=function(t,e){var n;return t in C&&e in C[t]&&(n=C[t][e]),n}(t.getCode(),e.getCode());return n||(n=O),n}function K(t,e){return G(F(t),F(e))}function U(t,e,n){return K(e,n)(t,void 0,t.length)}function V(t,e,n,i){var r=K(e,n);return(0,T.Ne)(t,r,void 0,i)}var X=null;function Y(){return X}function q(t,e){return X?U(t,e,X):t}function W(t,e){return X?U(t,X,e):(L&&!(0,R.fS)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(L=!1,(0,I.ZK)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function H(t,e){return X?V(t,e,X):t}function B(t,e){return X?V(t,X,e):t}!function(){var t,e,n;D(g),D(k),t=g,e=y,n=_,k.forEach((function(i){t.forEach((function(t){x(i,t,e),x(t,i,n)}))}))}()},3384:function(t,e,n){var i=n(3144),r=n(5671),o=n(136),a=n(4062),s=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,i,o,a){var s;return(0,r.Z)(this,n),(s=e.call(this,t)).inversePixelTransform=i,s.frameState=o,s.context=a,s}return(0,i.Z)(n)}(n(5326).ZP);e.Z=s},6875:function(t,e){e.Z={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},1696:function(t,e,n){n.d(e,{Z:function(){return T}});var i,r=n(5671),o=n(3144),a=n(2963),s=n(1752),u=n(1120),l=n(136),h=n(4062),c=n(5947),d=n(1967),v=n(5128),f=n(6889),g=n(724),y=n(2357),_=function(){function t(e,n,i,o,a,s){var u=this;(0,r.Z)(this,t),this.sourceProj_=e,this.targetProj_=n;var l={},h=(0,g.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return l[e]||(l[e]=h(t)),l[e]},this.maxSourceExtent_=o,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&(0,f.dz)(o)>=(0,f.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,f.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,f.dz)(this.targetProj_.getExtent()):null;var c=(0,f.rL)(i),d=(0,f.Xv)(i),v=(0,f.w$)(i),y=(0,f.hC)(i),_=this.transformInv_(c),p=this.transformInv_(d),m=this.transformInv_(v),E=this.transformInv_(y),k=10+(s?Math.max(0,Math.ceil(Math.log2((0,f.bg)(i)/(s*s*256*256)))):0);if(this.addQuad_(c,d,v,y,_,p,m,E,k),this.wrapsXInSource_){var Z=1/0;this.triangles_.forEach((function(t,e,n){Z=Math.min(Z,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-Z>u.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-Z>u.sourceWorldWidth_/2&&(e[0][0]-=u.sourceWorldWidth_),e[1][0]-Z>u.sourceWorldWidth_/2&&(e[1][0]-=u.sourceWorldWidth_),e[2][0]-Z>u.sourceWorldWidth_/2&&(e[2][0]-=u.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<u.sourceWorldWidth_/2&&(t.source=e)}}))}l={}}return(0,o.Z)(t,[{key:"addTriangle_",value:function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})}},{key:"addQuad_",value:function(t,e,n,i,r,o,a,s,u){var l=(0,f.hI)([r,o,a,s]),h=this.sourceWorldWidth_?(0,f.dz)(l)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&h>.5&&h<1,v=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var g=(0,f.hI)([t,e,n,i]);v=(0,f.dz)(g)/this.targetWorldWidth_>.25||v}!d&&this.sourceProj_.isGlobal()&&h&&(v=h>.25||v)}if(!(!v&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3]))||(0,f.kK)(l,this.maxSourceExtent_)){var _=0;if(!v&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])))if(u>0)v=!0;else if(1!=(_=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=_&&4!=_&&8!=_)return;if(u>0){if(!v){var p,m=[(t[0]+n[0])/2,(t[1]+n[1])/2],E=this.transformInv_(m);if(d)p=((0,y.$W)(r[0],c)+(0,y.$W)(a[0],c))/2-(0,y.$W)(E[0],c);else p=(r[0]+a[0])/2-E[0];var k=(r[1]+a[1])/2-E[1];v=p*p+k*k>this.errorThresholdSquared_}if(v){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var Z=[(e[0]+n[0])/2,(e[1]+n[1])/2],C=this.transformInv_(Z),x=[(i[0]+t[0])/2,(i[1]+t[1])/2],T=this.transformInv_(x);this.addQuad_(t,e,Z,x,r,o,C,T,u-1),this.addQuad_(x,Z,n,i,T,C,a,s,u-1)}else{var R=[(t[0]+e[0])/2,(t[1]+e[1])/2],w=this.transformInv_(R),b=[(n[0]+i[0])/2,(n[1]+i[1])/2],P=this.transformInv_(b);this.addQuad_(t,R,b,i,r,w,P,s,u-1),this.addQuad_(R,e,n,b,w,o,a,P,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&_)&&this.addTriangle_(t,n,i,r,a,s),0==(14&_)&&this.addTriangle_(t,n,e,r,a,o),_&&(0==(13&_)&&this.addTriangle_(e,i,t,o,s,r),0==(7&_)&&this.addTriangle_(e,i,n,o,s,a))}}},{key:"calculateSourceExtent",value:function(){var t=(0,f.lJ)();return this.triangles_.forEach((function(e,n,i){var r=e.source;(0,f.Wj)(t,r[0]),(0,f.Wj)(t,r[1]),(0,f.Wj)(t,r[2])})),t}},{key:"getTriangles",value:function(){return this.triangles_}}]),t}(),p=n(1408),m=[];function E(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function k(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Z(t,e,n,i){var r=(0,g.vs)(n,e,t),o=(0,g._Q)(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var u=t.getExtent();if(!u||(0,f.b8)(u,r)){var l=(0,g._Q)(t,o,r)/o;isFinite(l)&&l>0&&(o/=l)}return o}function C(t,e,n,r,o,a,s,u,l,h,c,d){var v=(0,p.E4)(Math.round(n*t),Math.round(n*e),m);if(d||(v.imageSmoothingEnabled=!1),0===l.length)return v.canvas;function g(t){return Math.round(t*n)/n}v.scale(n,n),v.globalCompositeOperation="lighter";var _=(0,f.lJ)();l.forEach((function(t,e,n){(0,f.l7)(_,t.extent)}));var Z=(0,f.dz)(_),C=(0,f.Cr)(_),x=(0,p.E4)(Math.round(n*Z/r),Math.round(n*C/r),m);d||(x.imageSmoothingEnabled=!1);var T=n/r;l.forEach((function(t,e,n){var i=t.extent[0]-_[0],r=-(t.extent[3]-_[3]),o=(0,f.dz)(t.extent),a=(0,f.Cr)(t.extent);t.image.width>0&&t.image.height>0&&x.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,i*T,r*T,o*T,a*T)}));var R=(0,f.rL)(s);return u.getTriangles().forEach((function(t,e,o){var s=t.source,u=t.target,l=s[0][0],h=s[0][1],c=s[1][0],f=s[1][1],Z=s[2][0],C=s[2][1],T=g((u[0][0]-R[0])/a),w=g(-(u[0][1]-R[1])/a),b=g((u[1][0]-R[0])/a),P=g(-(u[1][1]-R[1])/a),I=g((u[2][0]-R[0])/a),L=g(-(u[2][1]-R[1])/a),S=l,M=h;l=0,h=0;var O=[[c-=S,f-=M,0,0,b-T],[Z-=S,C-=M,0,0,I-T],[0,0,c,f,P-w],[0,0,Z,C,L-w]],A=(0,y.SV)(O);if(A){if(v.save(),v.beginPath(),function(){if(void 0===i){var t=(0,p.E4)(6,6,m);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",E(t,4,5,4,0),E(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;i=k(e,0)||k(e,4)||k(e,8),(0,p.jy)(t),m.push(t.canvas)}return i}()||!d){v.moveTo(b,P);for(var F=T-b,N=w-P,D=0;D<4;D++)v.lineTo(b+g((D+1)*F/4),P+g(D*N/3)),3!=D&&v.lineTo(b+g((D+1)*F/4),P+g((D+1)*N/3));v.lineTo(I,L)}else v.moveTo(b,P),v.lineTo(T,w),v.lineTo(I,L);v.clip(),v.transform(A[0],A[2],A[1],A[3],T,w),v.translate(_[0]-S,_[3]-M),v.scale(r/n,-r/n),v.drawImage(x.canvas,0,0),v.restore()}})),(0,p.jy)(x),m.push(x.canvas),c&&(v.save(),v.globalCompositeOperation="source-over",v.strokeStyle="black",v.lineWidth=1,u.getTriangles().forEach((function(t,e,n){var i=t.target,r=(i[0][0]-R[0])/a,o=-(i[0][1]-R[1])/a,s=(i[1][0]-R[0])/a,u=-(i[1][1]-R[1])/a,l=(i[2][0]-R[0])/a,h=-(i[2][1]-R[1])/a;v.beginPath(),v.moveTo(s,u),v.lineTo(r,o),v.lineTo(l,h),v.closePath(),v.stroke()})),v.restore()),v.canvas}var x=n(923),T=function(t){(0,l.Z)(n,t);var e=(0,h.Z)(n);function n(t,i,o,s,u,l,h,c,d,g,p,m){var E;(0,r.Z)(this,n),(E=e.call(this,u,v.Z.IDLE,{interpolate:!!m})).renderEdges_=void 0!==p&&p,E.pixelRatio_=h,E.gutter_=c,E.canvas_=null,E.sourceTileGrid_=i,E.targetTileGrid_=s,E.wrappedTileCoord_=l||u,E.sourceTiles_=[],E.sourcesListenerKeys_=null,E.sourceZ_=0;var k=s.getTileCoordExtent(E.wrappedTileCoord_),C=E.targetTileGrid_.getExtent(),x=E.sourceTileGrid_.getExtent(),T=C?(0,f.Ed)(k,C):k;if(0===(0,f.bg)(T))return E.state=v.Z.EMPTY,(0,a.Z)(E);var R=t.getExtent();R&&(x=x?(0,f.Ed)(x,R):R);var w=s.getResolution(E.wrappedTileCoord_[0]),b=function(t,e,n,i){var r=(0,f.qg)(n),o=Z(t,e,r,i);return(!isFinite(o)||o<=0)&&(0,f.H6)(n,(function(n){return o=Z(t,e,n,i),isFinite(o)&&o>0})),o}(t,o,T,w);if(!isFinite(b)||b<=0)return E.state=v.Z.EMPTY,(0,a.Z)(E);var P=void 0!==g?g:.5;if(E.triangulation_=new _(t,o,T,x,b*P,w),0===E.triangulation_.getTriangles().length)return E.state=v.Z.EMPTY,(0,a.Z)(E);E.sourceZ_=i.getZForResolution(b);var I=E.triangulation_.calculateSourceExtent();if(x&&(t.canWrapX()?(I[1]=(0,y.uZ)(I[1],x[1],x[3]),I[3]=(0,y.uZ)(I[3],x[1],x[3])):I=(0,f.Ed)(I,x)),(0,f.bg)(I)){for(var L=i.getTileRangeForExtentAndZ(I,E.sourceZ_),S=L.minX;S<=L.maxX;S++)for(var M=L.minY;M<=L.maxY;M++){var O=d(E.sourceZ_,S,M,h);O&&E.sourceTiles_.push(O)}0===E.sourceTiles_.length&&(E.state=v.Z.EMPTY)}else E.state=v.Z.EMPTY;return E}return(0,o.Z)(n,[{key:"getImage",value:function(){return this.canvas_}},{key:"reproject_",value:function(){var t=this,e=[];if(this.sourceTiles_.forEach((function(n){n&&n.getState()==v.Z.LOADED&&e.push({extent:t.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})})),this.sourceTiles_.length=0,0===e.length)this.state=v.Z.ERROR;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r="number"===typeof i?i:i[0],o="number"===typeof i?i:i[1],a=this.targetTileGrid_.getResolution(n),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=C(r,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=v.Z.LOADED}this.changed()}},{key:"load",value:function(){var t=this;if(this.state==v.Z.IDLE){this.state=v.Z.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(n){var i=n.getState();if(i==v.Z.IDLE||i==v.Z.LOADING){e++;var r=(0,x.oL)(n,c.Z.CHANGE,(function(t){var i=n.getState();i!=v.Z.LOADED&&i!=v.Z.ERROR&&i!=v.Z.EMPTY||((0,x.bN)(r),0===--e&&(this.unlistenSources_(),this.reproject_()))}),t);t.sourcesListenerKeys_.push(r)}})),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){t.getState()==v.Z.IDLE&&t.load()}))}}},{key:"unlistenSources_",value:function(){this.sourcesListenerKeys_.forEach(x.bN),this.sourcesListenerKeys_=null}},{key:"release",value:function(){this.canvas_&&((0,p.jy)(this.canvas_.getContext("2d")),m.push(this.canvas_),this.canvas_=null),(0,s.Z)((0,u.Z)(n.prototype),"release",this).call(this)}}]),n}(d.Z)},3901:function(t,e,n){n.d(e,{Gw:function(){return s},YP:function(){return o},gE:function(){return a},h$:function(){return r}});var i=n(2357);function r(t){if(void 0!==t)return 0}function o(t){if(void 0!==t)return t}function a(t){var e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function s(t){return t=t||(0,i.Yr)(5),function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}},4046:function(t,e,n){function i(t){return t[0]>0&&t[1]>0}function r(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,{Pq:function(){return o},bA:function(){return r},py:function(){return i}})},2558:function(t,e,n){n.d(e,{Z:function(){return q}});var i=n(3144),r=n(5671),o=n(136),a=n(4062),s=n(1752),u=n(1120),l=n(5947),h=n(8465),c=n(1696),d=n(6862),v=function(){function t(e){(0,r.Z)(this,t),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return(0,i.Z)(t,[{key:"canExpireCache",value:function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}},{key:"expireCache",value:function(t){for(;this.canExpireCache();)this.pop()}},{key:"clear",value:function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}},{key:"containsKey",value:function(t){return this.entries_.hasOwnProperty(t)}},{key:"forEach",value:function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer}},{key:"get",value:function(t,e){var n=this.entries_[t];return(0,d.h)(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}},{key:"remove",value:function(t){var e=this.entries_[t];return(0,d.h)(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e}},{key:"getValues",value:function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"peek",value:function(t){if(this.containsKey(t))return this.entries_[t].value_}},{key:"pop",value:function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}},{key:"replace",value:function(t,e){this.get(t),this.entries_[t].value_=e}},{key:"set",value:function(t,e){(0,d.h)(!(t in this.entries_),"Tried to set a value for a key that is used already");var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}},{key:"setSize",value:function(t){this.highWaterMark=t}}]),t}();function f(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function g(t,e,n){return t+"/"+e+"/"+n}function y(t){return g(t[0],t[1],t[2])}var _=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"clear",value:function(){for(;this.getCount()>0;)this.pop().release();(0,s.Z)((0,u.Z)(n.prototype),"clear",this).call(this)}},{key:"expireCache",value:function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}}},{key:"pruneExceptNewestZ",value:function(){var t=this;if(0!==this.getCount()){var e=function(t){return t.split("/").map(Number)}(this.peekFirstKey()),n=e[0];this.forEach((function(e){e.tileCoord[0]!==n&&(t.remove(y(e.tileCoord)),e.release())}))}}}]),n}(v),p=_,m=n(5128),E="tileloadstart",k="tileloadend",Z="tileloaderror",C=n(5326),x=n(7326),T=n(5957),R=n(724);function w(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}var b=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i;(0,r.Z)(this,n),(i=e.call(this)).projection=(0,R.U2)(t.projection),i.attributions_=w(t.attributions),i.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,i.loading=!1,i.state_=void 0!==t.state?t.state:"ready",i.wrapX_=void 0!==t.wrapX&&t.wrapX,i.interpolate_=!!t.interpolate,i.viewResolver=null,i.viewRejector=null;var o=(0,x.Z)(i);return i.viewPromise_=new Promise((function(t,e){o.viewResolver=t,o.viewRejector=e})),i}return(0,i.Z)(n,[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection}},{key:"getResolutions",value:function(t){return null}},{key:"getView",value:function(){return this.viewPromise_}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getInterpolate",value:function(){return this.interpolate_}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(t){this.attributions_=w(t),this.changed()}},{key:"setState",value:function(t){this.state_=t,this.changed()}}]),n}(T.Z),P=n(6006),I=n(7805),L=n(794),S=n(2357),M=n(6889),O=n(6394),A=n(7678),F=n(4046),N=[0,0,0],D=function(){function t(e){var n;if((0,r.Z)(this,t),this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,(0,d.h)((0,A.pT)(this.resolutions_,(function(t,e){return e-t}),!0),"`resolutions` must be sorted in descending order"),!e.origins)for(var i=0,o=this.resolutions_.length-1;i<o;++i)if(n){if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}else n=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,(0,d.h)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));var a=e.extent;void 0===a||this.origin_||this.origins_||(this.origin_=(0,M.rL)(a)),(0,d.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,(0,d.h)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:L.S,(0,d.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((function(t,e){var n=new I.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(a){var i=this.getTileRangeForExtentAndZ(a,e);n.minX=Math.max(i.minX,n.minX),n.maxX=Math.min(i.maxX,n.maxX),n.minY=Math.max(i.minY,n.minY),n.maxY=Math.min(i.maxY,n.maxY)}return n}),this):a&&this.calculateTileRanges_(a)}return(0,i.Z)(t,[{key:"forEachTileCoord",value:function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,r,a])}},{key:"forEachTileCoordParentTileRange",value:function(t,e,n,i){var r,o,a,s=null,u=t[0]-1;for(2===this.zoomFactor_?(o=t[1],a=t[2]):s=this.getTileCoordExtent(t,i);u>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),r=(0,I.T)(o,o,a,a,n)):r=this.getTileRangeForExtentAndZ(s,u,n),e(u,r))return!0;--u}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(t){return this.origin_?this.origin_:this.origins_[t]}},{key:"getResolution",value:function(t){return this.resolutions_[t]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return(0,I.T)(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null}},{key:"getTileRangeForTileCoordAndZ",value:function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var i=t[0],r=t[1],o=t[2];if(e===i)return(0,I.T)(r,o,r,o,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-i),s=Math.floor(r*a),u=Math.floor(o*a);if(e<i)return(0,I.T)(s,s,u,u,n);var l=Math.floor(a*(r+1))-1,h=Math.floor(a*(o+1))-1;return(0,I.T)(s,l,u,h,n)}var c=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,e,n)}},{key:"getTileRangeForExtentAndZ",value:function(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,N);var i=N[1],r=N[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,N);var o=N[1],a=N[2];return(0,I.T)(i,o,r,a,n)}},{key:"getTileCoordCenter",value:function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=(0,F.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]}},{key:"getTileCoordExtent",value:function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=(0,F.Pq)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,a=n[1]-(t[2]+1)*r[1]*i,s=o+r[0]*i,u=a+r[1]*i;return(0,M.T9)(o,a,s,u,e)}},{key:"getTileCoordForCoordAndResolution",value:function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}},{key:"getTileCoordForXYAndResolution_",value:function(t,e,n,i,r){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),u=(0,F.Pq)(this.getTileSize(o),this.tmpSize_),l=a*(t-s[0])/n/u[0],h=a*(s[1]-e)/n/u[1];return i?(l=(0,S.mD)(l,5)-1,h=(0,S.mD)(h,5)-1):(l=(0,S.GW)(l,5),h=(0,S.GW)(h,5)),f(o,l,h,r)}},{key:"getTileCoordForXYAndZ_",value:function(t,e,n,i,r){var o=this.getOrigin(n),a=this.getResolution(n),s=(0,F.Pq)(this.getTileSize(n),this.tmpSize_),u=(t-o[0])/a/s[0],l=(o[1]-e)/a/s[1];return i?(u=(0,S.mD)(u,5)-1,l=(0,S.mD)(l,5)-1):(u=(0,S.GW)(u,5),l=(0,S.GW)(l,5)),f(n,u,l,r)}},{key:"getTileCoordForCoordAndZ",value:function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}},{key:"getTileCoordResolution",value:function(t){return this.resolutions_[t[0]]}},{key:"getTileSize",value:function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}},{key:"getFullTileRange",value:function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}},{key:"getZForResolution",value:function(t,e){var n=(0,A.h7)(this.resolutions_,t,e||0);return(0,S.uZ)(n,this.minZoom,this.maxZoom)}},{key:"tileCoordIntersectsViewport",value:function(t,e){return(0,O.mV)(e,0,e.length,2,this.getTileCoordExtent(t))}},{key:"calculateTileRanges_",value:function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n}}]),t}();function j(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){var r=G(t);return function(t,e,n,i){i=void 0!==i?i:"top-left";var r=z(t,e,n);return new D({extent:t,origin:(0,M.g0)(t,i),resolutions:r,tileSize:n})}(r,e,n,i)}(t),t.setDefaultTileGrid(e)),e}function z(t,e,n,i){e=void 0!==e?e:L.e,n=(0,F.Pq)(void 0!==n?n:L.S);var r=(0,M.Cr)(t),o=(0,M.dz)(t);i=i>0?i:Math.max(o/n[0],r/n[1]);for(var a=e+1,s=new Array(a),u=0;u<a;++u)s[u]=i/Math.pow(2,u);return s}function G(t){var e=(t=(0,R.U2)(t)).getExtent();if(!e){var n=180*R.Wm.degrees/t.getMetersPerUnit();e=(0,M.T9)(-n,-n,n,n)}return e}var K=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i;(0,r.Z)(this,n),(i=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})).on,i.once,i.un,i.opaque_=void 0!==t.opaque&&t.opaque,i.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,i.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;return i.tileGrid&&(0,F.Pq)(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()),[256,256]),i.tileCache=new p(t.cacheSize||0),i.tmpSize=[0,0],i.key_=t.key||"",i.tileOptions={transition:t.transition,interpolate:t.interpolate},i.zDirection=t.zDirection?t.zDirection:0,i}return(0,i.Z)(n,[{key:"canExpireCache",value:function(){return this.tileCache.canExpireCache()}},{key:"expireCache",value:function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)}},{key:"forEachLoadedTile",value:function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var o,a,s,u=!0,l=n.minX;l<=n.maxX;++l)for(var h=n.minY;h<=n.maxY;++h)a=g(e,l,h),s=!1,r.containsKey(a)&&(s=(o=r.get(a)).getState()===m.Z.LOADED)&&(s=!1!==i(o)),s||(u=!1);return u}},{key:"getGutterForProjection",value:function(t){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(t){this.key_!==t&&(this.key_=t,this.changed())}},{key:"getOpaque",value:function(t){return this.opaque_}},{key:"getResolutions",value:function(t){var e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}},{key:"getTile",value:function(t,e,n,i,r){return(0,P.O3)()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(t){return this.tileGrid?this.tileGrid:j(t)}},{key:"getTileCacheForProjection",value:function(t){var e=this.getProjection();return(0,d.h)(null===e||(0,R.OP)(e,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}},{key:"getTilePixelRatio",value:function(t){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=(0,F.Pq)(i.getTileSize(t),this.tmpSize);return 1==r?o:(0,F.bA)(o,r,this.tmpSize)}},{key:"getTileCoordForTileUrlFunction",value:function(t,e){e=void 0!==e?e:this.getProjection();var n=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=G(n);if(!(0,M.b8)(o,r)){var a=(0,M.dz)(o),s=Math.ceil((o[0]-r[0])/a);return r[0]+=a*s,t.getTileCoordForCoordAndZ(r,i)}return e}(n,t,e)),function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o=e.getFullTileRange(n);return!o||o.containsXY(i,r)}(t,n)?t:null}},{key:"clear",value:function(){this.tileCache.clear()}},{key:"refresh",value:function(){this.clear(),(0,s.Z)((0,u.Z)(n.prototype),"refresh",this).call(this)}},{key:"updateCacheSize",value:function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)}},{key:"useTile",value:function(t,e,n,i){}}]),n}(b),U=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,i){var o;return(0,r.Z)(this,n),(o=e.call(this,t)).tile=i,o}return(0,i.Z)(n)}(C.ZP);function V(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(a,s,u){if(a)return t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(r,a[2].toString()).replace(o,(function(){var t=a[0],n=e.getFullTileRange(t);return(0,d.h)(n,"The {-y} placeholder requires a tile grid with extent"),(n.getHeight()-a[2]-1).toString()}))}}function X(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=V(t[r],e);return function(t){if(1===t.length)return t[0];return function(e,n,i){if(e){var r=function(t){return(t[1]<<t[0])+t[2]}(e),o=(0,S.$W)(r,t.length);return t[o](e,n,i)}}}(i)}function Y(t,e){t.getImage().src=e}var q=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i;(0,r.Z)(this,n),i=void 0!==(t=t||{}).attributions?t.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];var o=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",a=void 0!==t.url?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";return e.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:o,interpolate:t.interpolate,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,opaque:void 0===t.opaque||t.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:a,wrapX:t.wrapX,zDirection:t.zDirection})}return(0,i.Z)(n)}(function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i;(0,r.Z)(this,n);var o=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",a=void 0!==t.tileGrid?t.tileGrid:function(t){var e=t||{},n=e.extent||(0,R.U2)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:z(n,e.maxZoom,e.tileSize,e.maxResolution)};return new D(i)}({extent:G(o),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});return(i=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:o,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})).gutter_=void 0!==t.gutter?t.gutter:0,i}return(0,i.Z)(n,[{key:"getGutter",value:function(){return this.gutter_}}]),n}(function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i;return(0,r.Z)(this,n),(i=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Y,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})).crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,i.tileClass=void 0!==t.tileClass?t.tileClass:h.Z,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return(0,i.Z)(n,[{key:"canExpireCache",value:function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}},{key:"expireCache",value:function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}}},{key:"getGutterForProjection",value:function(t){return this.getProjection()&&t&&!(0,R.OP)(this.getProjection(),t)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){var t=(0,s.Z)((0,u.Z)(n.prototype),"getKey",this).call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t}},{key:"getOpaque",value:function(t){return!(this.getProjection()&&t&&!(0,R.OP)(this.getProjection(),t))&&(0,s.Z)((0,u.Z)(n.prototype),"getOpaque",this).call(this,t)}},{key:"getTileGridForProjection",value:function(t){var e=this.getProjection();if(this.tileGrid&&(!e||(0,R.OP)(e,t)))return this.tileGrid;var n=(0,P.sq)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=j(t)),this.tileGridForProjection[n]}},{key:"getTileCacheForProjection",value:function(t){var e=this.getProjection();if(!e||(0,R.OP)(e,t))return this.tileCache;var n=(0,P.sq)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new p(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}},{key:"createTile_",value:function(t,e,n,i,r,o){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,r),u=s?this.tileUrlFunction(s,i,r):void 0,h=new this.tileClass(a,void 0!==u?m.Z.IDLE:m.Z.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(l.Z.CHANGE,this.handleTileChange.bind(this)),h}},{key:"getTile",value:function(t,e,n,i,r){var o=this,a=this.getProjection();if(!a||!r||(0,R.OP)(a,r))return this.getTileInternal(t,e,n,i,a||r);var s,u=this.getTileCacheForProjection(r),l=[t,e,n],h=y(l);u.containsKey(h)&&(s=u.get(h));var d=this.getKey();if(s&&s.key==d)return s;var v=this.getTileGridForProjection(a),f=this.getTileGridForProjection(r),g=this.getTileCoordForTileUrlFunction(l,r),_=new c.Z(a,v,r,f,l,g,this.getTilePixelRatio(i),this.getGutter(),(function(t,e,n,i){return o.getTileInternal(t,e,n,i,a)}),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return _.key=d,s?(_.interimTile=s,_.refreshInterimChain(),u.replace(h,_)):u.set(h,_),_}},{key:"getTileInternal",value:function(t,e,n,i,r){var o=null,a=g(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var u=o;o=this.createTile_(t,e,n,i,r,s),u.getState()==m.Z.IDLE?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,i,r,s),this.tileCache.set(a,o);return o}},{key:"setRenderReprojectionEdges",value:function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}}},{key:"setTileGridForProjection",value:function(t,e){var n=(0,R.U2)(t);if(n){var i=(0,P.sq)(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}}},{key:"clear",value:function(){for(var t in(0,s.Z)((0,u.Z)(n.prototype),"clear",this).call(this),this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}]),n}(function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i;return(0,r.Z)(this,n),(i=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})).generateTileUrlFunction_=i.tileUrlFunction===n.prototype.tileUrlFunction,i.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(i.tileUrlFunction=t.tileUrlFunction),i.urls=null,t.urls?i.setUrls(t.urls):t.url&&i.setUrl(t.url),i.tileLoadingKeys_={},i}return(0,i.Z)(n,[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(t){var e,n=t.target,i=(0,P.sq)(n),r=n.getState();r==m.Z.LOADING?(this.tileLoadingKeys_[i]=!0,e=E):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=r==m.Z.ERROR?Z:r==m.Z.LOADED?k:void 0),void 0!=e&&this.dispatchEvent(new U(e,n))}},{key:"setTileLoadFunction",value:function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}},{key:"setTileUrlFunction",value:function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()}},{key:"setUrl",value:function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)}},{key:"setUrls",value:function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(X(t,this.tileGrid),e):this.setKey(e)}},{key:"tileUrlFunction",value:function(t,e,n){}},{key:"useTile",value:function(t,e,n){var i=g(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}]),n}(K))))},794:function(t,e,n){n.d(e,{S:function(){return r},e:function(){return i}});var i=42,r=256},6108:function(t,e,n){n.d(e,{BB:function(){return h},Ue:function(){return a},nb:function(){return l},nn:function(){return s},qC:function(){return u}});var i,r=n(7288),o=n(6862);new Array(6);function a(){return[1,0,0,1,0,0]}function s(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function u(t,e,n,i,r,o,a,s){var u=Math.sin(o),l=Math.cos(o);return t[0]=i*l,t[1]=r*u,t[2]=-i*u,t[3]=r*l,t[4]=a*i*l-s*i*u+e,t[5]=a*r*u+s*r*l+n,t}function l(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];(0,o.h)(0!==i,"Transformation matrix cannot be inverted");var r=e[0],a=e[1],s=e[2],u=e[3],l=e[4],h=e[5];return t[0]=u/i,t[1]=-a/i,t[2]=-s/i,t[3]=r/i,t[4]=(s*h-u*l)/i,t[5]=-(r*h-a*l)/i,t}function h(t){var e="matrix("+t.join(", ")+")";if(r.Id)return e;var n=i||(i=document.createElement("div"));return n.style.transform=e,n.style.transform}},6006:function(t,e,n){function i(){throw new Error("Unimplemented abstract method.")}n.d(e,{O3:function(){return i},sq:function(){return o}});var r=0;function o(t){return t.ol_uid||(t.ol_uid=String(++r))}}}]);
//# sourceMappingURL=677.75536ddf.chunk.js.map